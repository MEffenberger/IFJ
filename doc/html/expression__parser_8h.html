<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IFJ23: expression_parser.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">IFJ23<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Implementace překladače imperativního jazyka IFJ23</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">expression_parser.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Expression parser for IFJ23 compiler.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="token__stack_8h_source.html">token_stack.h</a>&quot;</code><br />
</div>
<p><a href="expression__parser_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ab7c09af4dd5abc056977a0727d2f1e82" id="r_ab7c09af4dd5abc056977a0727d2f1e82"><td class="memItemLeft" align="right" valign="top"><a id="ab7c09af4dd5abc056977a0727d2f1e82" name="ab7c09af4dd5abc056977a0727d2f1e82"></a>
typedef enum expression_rules&#160;</td><td class="memItemRight" valign="bottom"><b>expression_rules_t</b></td></tr>
<tr class="separator:ab7c09af4dd5abc056977a0727d2f1e82"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a54ebd326a22412002a6ad2dcda6a9273" id="r_a54ebd326a22412002a6ad2dcda6a9273"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>expression_rules</b> { <br />
&#160;&#160;<b>RULE_PAR</b>
, <b>RULE_OPERAND</b>
, <b>RULE_ADD</b>
, <b>RULE_SUB</b>
, <br />
&#160;&#160;<b>RULE_MUL</b>
, <b>RULE_DIV</b>
, <b>RULE_LESS</b>
, <b>RULE_GTR</b>
, <br />
&#160;&#160;<b>RULE_LEQ</b>
, <b>RULE_GEQ</b>
, <b>RULE_EQ</b>
, <b>RULE_NEQ</b>
, <br />
&#160;&#160;<b>RULE_EXCL</b>
, <b>RULE_QMS</b>
, <b>NOT_RULE</b>
<br />
 }</td></tr>
<tr class="separator:a54ebd326a22412002a6ad2dcda6a9273"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac66a178aa09460dc7c0f17aad9e583e9" id="r_ac66a178aa09460dc7c0f17aad9e583e9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="expression__parser_8h.html#ac66a178aa09460dc7c0f17aad9e583e9">get_index</a> (<a class="el" href="scanner_8h.html#aef7a4af0d3dea9771fdd6eee9c5cabf2">token_type_t</a> <a class="el" href="structtoken.html">token</a>)</td></tr>
<tr class="memdesc:ac66a178aa09460dc7c0f17aad9e583e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the index of token from precedence table.  <br /></td></tr>
<tr class="separator:ac66a178aa09460dc7c0f17aad9e583e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4de2f719aeb5d3f8de400ec1eaa5a787" id="r_a4de2f719aeb5d3f8de400ec1eaa5a787"><td class="memItemLeft" align="right" valign="top"><a class="el" href="scanner_8h.html#afca089a78950c6e3e420d0e666899390">token_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="expression__parser_8h.html#a4de2f719aeb5d3f8de400ec1eaa5a787">token_create</a> (<a class="el" href="scanner_8h.html#aef7a4af0d3dea9771fdd6eee9c5cabf2">token_type_t</a> token_type)</td></tr>
<tr class="memdesc:a4de2f719aeb5d3f8de400ec1eaa5a787"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates new token.  <br /></td></tr>
<tr class="separator:a4de2f719aeb5d3f8de400ec1eaa5a787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc1c95d7f138e3e233baa89d6429aa84" id="r_acc1c95d7f138e3e233baa89d6429aa84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="expression__parser_8h.html#acc1c95d7f138e3e233baa89d6429aa84">token_shift</a> (<a class="el" href="structtoken__stack.html">token_stack</a> *stack)</td></tr>
<tr class="memdesc:acc1c95d7f138e3e233baa89d6429aa84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts a shift symbol on stack.  <br /></td></tr>
<tr class="separator:acc1c95d7f138e3e233baa89d6429aa84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad736ee1e72b14115057e6ad07188a7b9" id="r_ad736ee1e72b14115057e6ad07188a7b9"><td class="memItemLeft" align="right" valign="top">expression_rules_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="expression__parser_8h.html#ad736ee1e72b14115057e6ad07188a7b9">find_reduce_rule</a> (<a class="el" href="scanner_8h.html#afca089a78950c6e3e420d0e666899390">token_t</a> *token1, <a class="el" href="scanner_8h.html#afca089a78950c6e3e420d0e666899390">token_t</a> *token2, <a class="el" href="scanner_8h.html#afca089a78950c6e3e420d0e666899390">token_t</a> *token3, int number_of_tokens)</td></tr>
<tr class="memdesc:ad736ee1e72b14115057e6ad07188a7b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to find appropriate rule for reducing expressions on stack.  <br /></td></tr>
<tr class="separator:ad736ee1e72b14115057e6ad07188a7b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa543cf70a00956bcae4bfd38338019f9" id="r_aa543cf70a00956bcae4bfd38338019f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="expression__parser_8h.html#aa543cf70a00956bcae4bfd38338019f9">convert_qm</a> (<a class="el" href="scanner_8h.html#afca089a78950c6e3e420d0e666899390">token_t</a> *token1)</td></tr>
<tr class="memdesc:aa543cf70a00956bcae4bfd38338019f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts QM token types to non qm token types.  <br /></td></tr>
<tr class="separator:aa543cf70a00956bcae4bfd38338019f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af20a08af025114e96fc67278283d909b" id="r_af20a08af025114e96fc67278283d909b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="expression__parser_8h.html#af20a08af025114e96fc67278283d909b">check_types</a> (<a class="el" href="scanner_8h.html#afca089a78950c6e3e420d0e666899390">token_t</a> *token1, <a class="el" href="scanner_8h.html#afca089a78950c6e3e420d0e666899390">token_t</a> *token2, <a class="el" href="scanner_8h.html#afca089a78950c6e3e420d0e666899390">token_t</a> *token3)</td></tr>
<tr class="memdesc:af20a08af025114e96fc67278283d909b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the tokens for sematic analysis and if possible converts them.  <br /></td></tr>
<tr class="separator:af20a08af025114e96fc67278283d909b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d1056ec10ae7b664a990158f51616ea" id="r_a0d1056ec10ae7b664a990158f51616ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="expression__parser_8h.html#a0d1056ec10ae7b664a990158f51616ea">push_for_leq_geq</a> (<a class="el" href="scanner_8h.html#afca089a78950c6e3e420d0e666899390">token_t</a> *token1, <a class="el" href="scanner_8h.html#afca089a78950c6e3e420d0e666899390">token_t</a> *token2)</td></tr>
<tr class="memdesc:a0d1056ec10ae7b664a990158f51616ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints specific tokens for operators Lequal and Gequal to stdout in IFJcode.  <br /></td></tr>
<tr class="separator:a0d1056ec10ae7b664a990158f51616ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b13944bbf020cdd44f50022b0fe2b22" id="r_a3b13944bbf020cdd44f50022b0fe2b22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="expression__parser_8h.html#a3b13944bbf020cdd44f50022b0fe2b22">call_expr_parser</a> (data_type return_type)</td></tr>
<tr class="memdesc:a3b13944bbf020cdd44f50022b0fe2b22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function core parser uses to process expressions.  <br /></td></tr>
<tr class="separator:a3b13944bbf020cdd44f50022b0fe2b22"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Expression parser for IFJ23 compiler. </p>
<p>IFJ23 compiler</p>
<dl class="section author"><dt>Author</dt><dd>Dominik Horut &lt;xhorut01&gt; </dd>
<dd>
Samuel Hejnicek &lt;xhejni00&gt; </dd></dl>

<p class="definition">Definition in file <a class="el" href="expression__parser_8h_source.html">expression_parser.h</a>.</p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a54ebd326a22412002a6ad2dcda6a9273" name="a54ebd326a22412002a6ad2dcda6a9273"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54ebd326a22412002a6ad2dcda6a9273">&#9670;&#160;</a></span>expression_rules</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum expression_rules</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="expression__parser_8h_source.html#l00017">17</a> of file <a class="el" href="expression__parser_8h_source.html">expression_parser.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   17</span>                             {</div>
<div class="line"><span class="lineno">   18</span> </div>
<div class="line"><span class="lineno">   19</span>    RULE_PAR,       <span class="comment">// E -&gt; (E)</span></div>
<div class="line"><span class="lineno">   20</span>    RULE_OPERAND,   <span class="comment">// E -&gt; i</span></div>
<div class="line"><span class="lineno">   21</span>    RULE_ADD,       <span class="comment">// E -&gt; E+E</span></div>
<div class="line"><span class="lineno">   22</span>    RULE_SUB,       <span class="comment">// E -&gt; E-E</span></div>
<div class="line"><span class="lineno">   23</span>    RULE_MUL,       <span class="comment">// E -&gt; E*E</span></div>
<div class="line"><span class="lineno">   24</span>    RULE_DIV,       <span class="comment">// E -&gt; E/E</span></div>
<div class="line"><span class="lineno">   25</span>    RULE_LESS,      <span class="comment">// E -&gt; E&lt;E</span></div>
<div class="line"><span class="lineno">   26</span>    RULE_GTR,       <span class="comment">// E -&gt; E&gt;E</span></div>
<div class="line"><span class="lineno">   27</span>    RULE_LEQ,       <span class="comment">// E -&gt; E&lt;=E</span></div>
<div class="line"><span class="lineno">   28</span>    RULE_GEQ,       <span class="comment">// E -&gt; E&gt;=E</span></div>
<div class="line"><span class="lineno">   29</span>    RULE_EQ,        <span class="comment">// E -&gt; E==E</span></div>
<div class="line"><span class="lineno">   30</span>    RULE_NEQ,       <span class="comment">// E -&gt; E!=E</span></div>
<div class="line"><span class="lineno">   31</span>    RULE_EXCL,      <span class="comment">// E -&gt; E!</span></div>
<div class="line"><span class="lineno">   32</span>    RULE_QMS,       <span class="comment">// E -&gt; E??E</span></div>
<div class="line"><span class="lineno">   33</span>    NOT_RULE        <span class="comment">// NOT A RULE</span></div>
<div class="line"><span class="lineno">   34</span> </div>
<div class="line"><span class="lineno">   35</span>} expression_rules_t;</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3b13944bbf020cdd44f50022b0fe2b22" name="a3b13944bbf020cdd44f50022b0fe2b22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b13944bbf020cdd44f50022b0fe2b22">&#9670;&#160;</a></span>call_expr_parser()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void call_expr_parser </td>
          <td>(</td>
          <td class="paramtype">data_type&#160;</td>
          <td class="paramname"><em>return_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function core parser uses to process expressions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">return_type</td><td>Return type of of the expression parser expects </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="expression__parser_8c_source.html#l00716">716</a> of file <a class="el" href="expression__parser_8c_source.html">expression_parser.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  716</span>                                             {</div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span>    <a class="code hl_struct" href="structtoken__stack.html">token_stack</a> stack;</div>
<div class="line"><span class="lineno">  719</span>    <a class="code hl_function" href="token__stack_8c.html#ad4bb2b5ed621c5319699bd5a4395f519">stack_init</a>(&amp;stack);</div>
<div class="line"><span class="lineno">  720</span> </div>
<div class="line"><span class="lineno">  721</span>    <span class="comment">//Dollar at the bottom of the stack</span></div>
<div class="line"><span class="lineno">  722</span>    <a class="code hl_struct" href="structtoken.html">token_t</a>* stack_bottom = <a class="code hl_function" href="expression__parser_8c.html#a4de2f719aeb5d3f8de400ec1eaa5a787">token_create</a>(TOKEN_DOLLAR);</div>
<div class="line"><span class="lineno">  723</span>    <a class="code hl_function" href="token__stack_8c.html#a5832d040dcb260d4c578ecd714421db6">stack_push</a>(&amp;stack, stack_bottom);</div>
<div class="line"><span class="lineno">  724</span> </div>
<div class="line"><span class="lineno">  725</span>    <span class="keywordtype">int</span> rule_params_count = 0;</div>
<div class="line"><span class="lineno">  726</span>    </div>
<div class="line"><span class="lineno">  727</span>    <span class="keywordtype">char</span> table_result;</div>
<div class="line"><span class="lineno">  728</span> </div>
<div class="line"><span class="lineno">  729</span>    <span class="keywordtype">bool</span> eval_expr = <span class="keyword">true</span>; </div>
<div class="line"><span class="lineno">  730</span>    current_token-&gt;was_exp = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  731</span>    <span class="keywordtype">int</span> stack_index;</div>
<div class="line"><span class="lineno">  732</span>    <span class="keywordtype">int</span> next_token_index;</div>
<div class="line"><span class="lineno">  733</span>    </div>
<div class="line"><span class="lineno">  734</span>    <span class="keywordflow">while</span>(eval_expr){</div>
<div class="line"><span class="lineno">  735</span>        </div>
<div class="line"><span class="lineno">  736</span>        </div>
<div class="line"><span class="lineno">  737</span>        <a class="code hl_struct" href="structtoken.html">token_t</a>* terminal = <a class="code hl_function" href="token__stack_8c.html#a7b3ed3304b7b78ddf06f7800d9a50db7">stack_top_terminal</a>(&amp;stack);</div>
<div class="line"><span class="lineno">  738</span>    </div>
<div class="line"><span class="lineno">  739</span>        <span class="comment">//If there is a token that we can not process we will start the reduction of current expression (stop_expression will be true) and wont look for another result from precedence table</span></div>
<div class="line"><span class="lineno">  740</span>        <span class="keywordflow">if</span>(!stop_expression){</div>
<div class="line"><span class="lineno">  741</span>            stack_index = <a class="code hl_function" href="expression__parser_8c.html#ac66a178aa09460dc7c0f17aad9e583e9">get_index</a>(terminal-&gt;type);</div>
<div class="line"><span class="lineno">  742</span>            next_token_index = <a class="code hl_function" href="expression__parser_8c.html#ac66a178aa09460dc7c0f17aad9e583e9">get_index</a>(current_token-&gt;type);</div>
<div class="line"><span class="lineno">  743</span>            <span class="keywordflow">if</span>(current_token-&gt;type == TOKEN_KEYWORD &amp;&amp; current_token-&gt;value.keyword != KW_NIL){</div>
<div class="line"><span class="lineno">  744</span>                table_result = <span class="charliteral">&#39;&gt;&#39;</span>;</div>
<div class="line"><span class="lineno">  745</span>                next_token_index = 15;</div>
<div class="line"><span class="lineno">  746</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  747</span>                table_result = precedence_table[stack_index][next_token_index];</div>
<div class="line"><span class="lineno">  748</span>            }</div>
<div class="line"><span class="lineno">  749</span>        }</div>
<div class="line"><span class="lineno">  750</span> </div>
<div class="line"><span class="lineno">  751</span>        <span class="comment">//Evaluation ends when next token index is 15 which is default for all tokens not supported by precedence table and also when only dollar as a terminal is on the stack</span></div>
<div class="line"><span class="lineno">  752</span>        <span class="keywordflow">if</span>(next_token_index == 15 &amp;&amp; <a class="code hl_function" href="token__stack_8c.html#a7b3ed3304b7b78ddf06f7800d9a50db7">stack_top_terminal</a>(&amp;stack)-&gt;<a class="code hl_function" href="parser_8c.html#ac0e56df4d0aeb6e6ae57932330de7457">type</a> == TOKEN_DOLLAR){</div>
<div class="line"><span class="lineno">  753</span> </div>
<div class="line"><span class="lineno">  754</span>            <span class="keywordflow">if</span>(stack.size &lt;= 1){</div>
<div class="line"><span class="lineno">  755</span>                </div>
<div class="line"><span class="lineno">  756</span>                <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SYN, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;empty expression&quot;</span>);</div>
<div class="line"><span class="lineno">  757</span>            }</div>
<div class="line"><span class="lineno">  758</span>            eval_expr = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  759</span>            type_of_expr = <a class="code hl_function" href="token__stack_8c.html#ace4d4e0ece15774f4df864b730b293a1">stack_top</a>(&amp;stack)-&gt;exp_value;</div>
<div class="line"><span class="lineno">  760</span>            </div>
<div class="line"><span class="lineno">  761</span>            <span class="comment">//Check return type that parser wants with our return type in expression, conversion between QM and non QM types if needed</span></div>
<div class="line"><span class="lineno">  762</span>            <span class="keywordflow">if</span>((return_type != UNKNOWN) &amp;&amp; (return_type != <a class="code hl_function" href="token__stack_8c.html#ace4d4e0ece15774f4df864b730b293a1">stack_top</a>(&amp;stack)-&gt;exp_value)){</div>
<div class="line"><span class="lineno">  763</span> </div>
<div class="line"><span class="lineno">  764</span>                <span class="keywordflow">if</span>((return_type == DOUBLE || return_type == DOUBLE_QM) &amp;&amp; <a class="code hl_function" href="token__stack_8c.html#ace4d4e0ece15774f4df864b730b293a1">stack_top</a>(&amp;stack)-&gt;exp_value == INT &amp;&amp; <a class="code hl_function" href="token__stack_8c.html#ace4d4e0ece15774f4df864b730b293a1">stack_top</a>(&amp;stack)-&gt;was_exp == <span class="keyword">false</span>){</div>
<div class="line"><span class="lineno">  765</span>                    <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(INT2FLOATS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  766</span>                    <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  767</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(return_type == INT_QM &amp;&amp; <a class="code hl_function" href="token__stack_8c.html#ace4d4e0ece15774f4df864b730b293a1">stack_top</a>(&amp;stack)-&gt;exp_value == INT){</div>
<div class="line"><span class="lineno">  768</span>                    type_of_expr = INT;</div>
<div class="line"><span class="lineno">  769</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(return_type == DOUBLE_QM &amp;&amp; <a class="code hl_function" href="token__stack_8c.html#ace4d4e0ece15774f4df864b730b293a1">stack_top</a>(&amp;stack)-&gt;exp_value == DOUBLE){</div>
<div class="line"><span class="lineno">  770</span>                    type_of_expr = DOUBLE;</div>
<div class="line"><span class="lineno">  771</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(return_type == STRING_QM &amp;&amp; <a class="code hl_function" href="token__stack_8c.html#ace4d4e0ece15774f4df864b730b293a1">stack_top</a>(&amp;stack)-&gt;exp_value == STRING){</div>
<div class="line"><span class="lineno">  772</span>                    type_of_expr = STRING;</div>
<div class="line"><span class="lineno">  773</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(return_type == STRING &amp;&amp; <a class="code hl_function" href="token__stack_8c.html#ace4d4e0ece15774f4df864b730b293a1">stack_top</a>(&amp;stack)-&gt;exp_value == STRING_QM){</div>
<div class="line"><span class="lineno">  774</span>                    type_of_expr = STRING;</div>
<div class="line"><span class="lineno">  775</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(return_type == DOUBLE &amp;&amp; <a class="code hl_function" href="token__stack_8c.html#ace4d4e0ece15774f4df864b730b293a1">stack_top</a>(&amp;stack)-&gt;exp_value == DOUBLE_QM){</div>
<div class="line"><span class="lineno">  776</span>                    type_of_expr = DOUBLE;</div>
<div class="line"><span class="lineno">  777</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(return_type == INT &amp;&amp; <a class="code hl_function" href="token__stack_8c.html#ace4d4e0ece15774f4df864b730b293a1">stack_top</a>(&amp;stack)-&gt;exp_value == INT_QM){</div>
<div class="line"><span class="lineno">  778</span>                    type_of_expr = INT;</div>
<div class="line"><span class="lineno">  779</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>((return_type == INT_QM || return_type == DOUBLE_QM || return_type == STRING_QM) &amp;&amp; <a class="code hl_function" href="token__stack_8c.html#ace4d4e0ece15774f4df864b730b293a1">stack_top</a>(&amp;stack)-&gt;exp_value == NIL){</div>
<div class="line"><span class="lineno">  780</span>                    type_of_expr = NIL;</div>
<div class="line"><span class="lineno">  781</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  782</span>                    <span class="comment">//If expression was in return statement it has different error code</span></div>
<div class="line"><span class="lineno">  783</span>                    <span class="keywordflow">if</span> (return_expr) {</div>
<div class="line"><span class="lineno">  784</span>                        <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Wrong data type of the return value&quot;</span>);</div>
<div class="line"><span class="lineno">  785</span>                    }</div>
<div class="line"><span class="lineno">  786</span>                    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  787</span>                        <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Wrong data type result of expression&quot;</span>);</div>
<div class="line"><span class="lineno">  788</span>                    }</div>
<div class="line"><span class="lineno">  789</span>                }</div>
<div class="line"><span class="lineno">  790</span>            }</div>
<div class="line"><span class="lineno">  791</span>            <span class="comment">//return type was unknown, parser will know type of expression from global variable</span></div>
<div class="line"><span class="lineno">  792</span>            <a class="code hl_function" href="token__stack_8c.html#a2a1b1bcee3718ed8e435725c7b624ded">dispose_stack</a>(&amp;stack);</div>
<div class="line"><span class="lineno">  793</span>            stop_expression = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  794</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  795</span>        }</div>
<div class="line"><span class="lineno">  796</span> </div>
<div class="line"><span class="lineno">  797</span>        <span class="comment">//Accoreding to table result we will shift or reduce </span></div>
<div class="line"><span class="lineno">  798</span>        <span class="keywordflow">switch</span> (table_result)</div>
<div class="line"><span class="lineno">  799</span>        {</div>
<div class="line"><span class="lineno">  800</span>        <span class="comment">//shift rule</span></div>
<div class="line"><span class="lineno">  801</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;&lt;&#39;</span>:</div>
<div class="line"><span class="lineno">  802</span>            <a class="code hl_function" href="expression__parser_8c.html#acc1c95d7f138e3e233baa89d6429aa84">token_shift</a>(&amp;stack);</div>
<div class="line"><span class="lineno">  803</span>            current_token = <a class="code hl_function" href="parser_8c.html#a1b103e2dd90bb1d85b44808a1d91fd29">get_next_token</a>();</div>
<div class="line"><span class="lineno">  804</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  805</span> </div>
<div class="line"><span class="lineno">  806</span>        <span class="comment">//reduction rule</span></div>
<div class="line"><span class="lineno">  807</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;&gt;&#39;</span>:</div>
<div class="line"><span class="lineno">  808</span> </div>
<div class="line"><span class="lineno">  809</span>            rule_params_count = 0;</div>
<div class="line"><span class="lineno">  810</span>            <a class="code hl_struct" href="structtoken.html">token_t</a>* tmp1, *tmp2, *tmp3 = NULL;</div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>            <span class="comment">//find out number of operands</span></div>
<div class="line"><span class="lineno">  813</span>            <span class="keywordflow">while</span>(<a class="code hl_function" href="token__stack_8c.html#ace4d4e0ece15774f4df864b730b293a1">stack_top</a>(&amp;stack)-&gt;<a class="code hl_function" href="parser_8c.html#ac0e56df4d0aeb6e6ae57932330de7457">type</a> != TOKEN_SHIFT){</div>
<div class="line"><span class="lineno">  814</span>                <span class="keywordflow">if</span>(rule_params_count == 0){</div>
<div class="line"><span class="lineno">  815</span>                    tmp1 = <a class="code hl_function" href="token__stack_8c.html#ace4d4e0ece15774f4df864b730b293a1">stack_top</a>(&amp;stack);</div>
<div class="line"><span class="lineno">  816</span>                    <a class="code hl_function" href="token__stack_8c.html#ab19e83ea17ecfb65941e2a82983cf0b4">stack_pop</a>(&amp;stack);</div>
<div class="line"><span class="lineno">  817</span>                }</div>
<div class="line"><span class="lineno">  818</span> </div>
<div class="line"><span class="lineno">  819</span>                <span class="keywordflow">if</span>(rule_params_count == 1){</div>
<div class="line"><span class="lineno">  820</span>                    tmp2 = <a class="code hl_function" href="token__stack_8c.html#ace4d4e0ece15774f4df864b730b293a1">stack_top</a>(&amp;stack);</div>
<div class="line"><span class="lineno">  821</span>                    <a class="code hl_function" href="token__stack_8c.html#ab19e83ea17ecfb65941e2a82983cf0b4">stack_pop</a>(&amp;stack);</div>
<div class="line"><span class="lineno">  822</span>                }</div>
<div class="line"><span class="lineno">  823</span> </div>
<div class="line"><span class="lineno">  824</span>                <span class="keywordflow">if</span>(rule_params_count == 2){</div>
<div class="line"><span class="lineno">  825</span>                    tmp3 = <a class="code hl_function" href="token__stack_8c.html#ace4d4e0ece15774f4df864b730b293a1">stack_top</a>(&amp;stack);</div>
<div class="line"><span class="lineno">  826</span>                    <a class="code hl_function" href="token__stack_8c.html#ab19e83ea17ecfb65941e2a82983cf0b4">stack_pop</a>(&amp;stack);</div>
<div class="line"><span class="lineno">  827</span>                }</div>
<div class="line"><span class="lineno">  828</span> </div>
<div class="line"><span class="lineno">  829</span>                <span class="keywordflow">if</span>(rule_params_count &gt; 2){</div>
<div class="line"><span class="lineno">  830</span>                    <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SYN, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;syntax error&quot;</span>);</div>
<div class="line"><span class="lineno">  831</span>                }</div>
<div class="line"><span class="lineno">  832</span>                rule_params_count++;</div>
<div class="line"><span class="lineno">  833</span>            }</div>
<div class="line"><span class="lineno">  834</span> </div>
<div class="line"><span class="lineno">  835</span>            <span class="comment">//Pops token_shift</span></div>
<div class="line"><span class="lineno">  836</span>            <a class="code hl_function" href="token__stack_8c.html#ab19e83ea17ecfb65941e2a82983cf0b4">stack_pop</a>(&amp;stack);</div>
<div class="line"><span class="lineno">  837</span> </div>
<div class="line"><span class="lineno">  838</span>            <span class="comment">//find the rule to reduce the expression</span></div>
<div class="line"><span class="lineno">  839</span>            expression_rules_t rule = <a class="code hl_function" href="expression__parser_8c.html#ad736ee1e72b14115057e6ad07188a7b9">find_reduce_rule</a>(tmp1, tmp2, tmp3, rule_params_count);</div>
<div class="line"><span class="lineno">  840</span>            <span class="keywordflow">switch</span> (rule)</div>
<div class="line"><span class="lineno">  841</span>            {</div>
<div class="line"><span class="lineno">  842</span> </div>
<div class="line"><span class="lineno">  843</span>            <span class="comment">// E -&gt; i</span></div>
<div class="line"><span class="lineno">  844</span>            <span class="keywordflow">case</span> RULE_OPERAND:</div>
<div class="line"><span class="lineno">  845</span> </div>
<div class="line"><span class="lineno">  846</span>                <span class="keywordflow">if</span>(tmp1-&gt;type == TOKEN_ID){</div>
<div class="line"><span class="lineno">  847</span>                    <a class="code hl_struct" href="structs__forest__node.html">forest_node</a>* forest = <a class="code hl_function" href="forest_8c.html#a619f25159598d0052096dd647035525c">forest_search_scope</a>(active, tmp1-&gt;value.vector-&gt;array);</div>
<div class="line"><span class="lineno">  848</span>                    <span class="comment">//Search in AVL tree to find node with specific ID</span></div>
<div class="line"><span class="lineno">  849</span>                    <a class="code hl_struct" href="structavl__tree.html">AVL_tree</a>* node = <a class="code hl_function" href="forest_8c.html#aaec9905b456776ed75cd0e0ba54ca1c0">forest_search_symbol</a>(active, tmp1-&gt;value.vector-&gt;array);</div>
<div class="line"><span class="lineno">  850</span>                    <span class="keywordflow">if</span>(node == NULL){</div>
<div class="line"><span class="lineno">  851</span>                        <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_UNDEF_VAR, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Variable does not exist&quot;</span>);</div>
<div class="line"><span class="lineno">  852</span>                    }</div>
<div class="line"><span class="lineno">  853</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!node-&gt;data-&gt;defined &amp;&amp; !(node-&gt;data-&gt;data_type == INT_QM || node-&gt;data-&gt;data_type == DOUBLE_QM || node-&gt;data-&gt;data_type == STRING_QM)) {</div>
<div class="line"><span class="lineno">  854</span>                        <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_UNDEF_VAR, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Variable is not initialized&quot;</span>);</div>
<div class="line"><span class="lineno">  855</span>                    }</div>
<div class="line"><span class="lineno">  856</span>                    <span class="comment">//creating unique nickname for the id, usefull later in codegen</span></div>
<div class="line"><span class="lineno">  857</span>                    <span class="keywordtype">char</span> *nickname = <a class="code hl_function" href="parser_8c.html#a015937b1d3bbcec4f14bf45d55b1f9c9">renamer</a>(node);</div>
<div class="line"><span class="lineno">  858</span>                    </div>
<div class="line"><span class="lineno">  859</span>                    data_type variable_type;</div>
<div class="line"><span class="lineno">  860</span>                    <span class="keywordflow">if</span>(node-&gt;data-&gt;is_param == <span class="keyword">false</span>){</div>
<div class="line"><span class="lineno">  861</span>                        variable_type = node-&gt;data-&gt;data_type;</div>
<div class="line"><span class="lineno">  862</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  863</span>                        variable_type = node-&gt;data-&gt;param_type;</div>
<div class="line"><span class="lineno">  864</span>                    }</div>
<div class="line"><span class="lineno">  865</span>                    </div>
<div class="line"><span class="lineno">  866</span> </div>
<div class="line"><span class="lineno">  867</span>                    tmp1-&gt;type = TOKEN_EXPRESSION;</div>
<div class="line"><span class="lineno">  868</span>                    tmp1-&gt;exp_type = ID;</div>
<div class="line"><span class="lineno">  869</span>                    tmp1-&gt;exp_value = variable_type;</div>
<div class="line"><span class="lineno">  870</span> </div>
<div class="line"><span class="lineno">  871</span>                    <span class="keywordflow">if</span>(variable_type == INT || variable_type == INT_QM){</div>
<div class="line"><span class="lineno">  872</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  873</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(PUSHS, forest-&gt;frame, nickname, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  874</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  875</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (variable_type == DOUBLE || variable_type == DOUBLE_QM){</div>
<div class="line"><span class="lineno">  876</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  877</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(PUSHS, forest-&gt;frame, nickname, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  878</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  879</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(variable_type == STRING || variable_type == STRING_QM){</div>
<div class="line"><span class="lineno">  880</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  881</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(PUSHS, forest-&gt;frame, nickname, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  882</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  883</span>                    }</div>
<div class="line"><span class="lineno">  884</span> </div>
<div class="line"><span class="lineno">  885</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(tmp1-&gt;type == TOKEN_DEC){</div>
<div class="line"><span class="lineno">  886</span>                    tmp1-&gt;type = TOKEN_EXPRESSION;</div>
<div class="line"><span class="lineno">  887</span>                    tmp1-&gt;exp_type = CONST;</div>
<div class="line"><span class="lineno">  888</span>                    tmp1-&gt;exp_value = DOUBLE;</div>
<div class="line"><span class="lineno">  889</span>                    </div>
<div class="line"><span class="lineno">  890</span>                    <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  891</span>                    <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(PUSHS_FLOAT_CONST, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, tmp1-&gt;value.type_double, NULL);</div>
<div class="line"><span class="lineno">  892</span>                    <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  893</span> </div>
<div class="line"><span class="lineno">  894</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(tmp1-&gt;type == TOKEN_NUM){</div>
<div class="line"><span class="lineno">  895</span>                    tmp1-&gt;type = TOKEN_EXPRESSION;</div>
<div class="line"><span class="lineno">  896</span>                    tmp1-&gt;exp_type = CONST;</div>
<div class="line"><span class="lineno">  897</span>                    tmp1-&gt;exp_value = INT;</div>
<div class="line"><span class="lineno">  898</span> </div>
<div class="line"><span class="lineno">  899</span>                    <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  900</span>                    <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(PUSHS_INT_CONST, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, tmp1-&gt;value.integer, 0.0, NULL);</div>
<div class="line"><span class="lineno">  901</span>                    <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  902</span> </div>
<div class="line"><span class="lineno">  903</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp1-&gt;type == TOKEN_EXP){</div>
<div class="line"><span class="lineno">  904</span>                    tmp1-&gt;type = TOKEN_EXPRESSION;</div>
<div class="line"><span class="lineno">  905</span>                    tmp1-&gt;exp_type = CONST;</div>
<div class="line"><span class="lineno">  906</span>                    tmp1-&gt;exp_value = DOUBLE;</div>
<div class="line"><span class="lineno">  907</span>                    </div>
<div class="line"><span class="lineno">  908</span>                    <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  909</span>                    <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(PUSHS_FLOAT_CONST, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, tmp1-&gt;value.type_double, NULL);</div>
<div class="line"><span class="lineno">  910</span>                    <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  911</span> </div>
<div class="line"><span class="lineno">  912</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp1-&gt;type == TOKEN_STRING || tmp1-&gt;type == TOKEN_ML_STRING){</div>
<div class="line"><span class="lineno">  913</span>                    tmp1-&gt;type = TOKEN_EXPRESSION;</div>
<div class="line"><span class="lineno">  914</span>                    tmp1-&gt;exp_type = CONST;</div>
<div class="line"><span class="lineno">  915</span>                    tmp1-&gt;exp_value = STRING;</div>
<div class="line"><span class="lineno">  916</span>                                        </div>
<div class="line"><span class="lineno">  917</span>                    <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  918</span>                    <span class="keywordtype">char</span> *<span class="keywordtype">string</span> = <a class="code hl_function" href="error_8c.html#a08672f1381d39b459aa779748bf40143">allocate_memory</a>(strlen(tmp1-&gt;value.vector-&gt;array)+1); <span class="comment">// new memory has to be allocated for string</span></div>
<div class="line"><span class="lineno">  919</span>                    <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(PUSHS_STRING_CONST, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, strcpy(<span class="keywordtype">string</span>, tmp1-&gt;value.vector-&gt;array));</div>
<div class="line"><span class="lineno">  920</span>                    <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  921</span> </div>
<div class="line"><span class="lineno">  922</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(tmp1-&gt;type == TOKEN_KEYWORD){</div>
<div class="line"><span class="lineno">  923</span>                    <span class="keywordflow">if</span>(tmp1-&gt;value.keyword != KW_NIL){</div>
<div class="line"><span class="lineno">  924</span>                        <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Can not do operations with keywords&quot;</span>);</div>
<div class="line"><span class="lineno">  925</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  926</span>                        <span class="comment">//Exp. parser support only nil keyword as constant</span></div>
<div class="line"><span class="lineno">  927</span>                        tmp1-&gt;type = TOKEN_EXPRESSION;</div>
<div class="line"><span class="lineno">  928</span>                        tmp1-&gt;exp_type = CONST;</div>
<div class="line"><span class="lineno">  929</span>                        tmp1-&gt;exp_value = NIL;</div>
<div class="line"><span class="lineno">  930</span>                    </div>
<div class="line"><span class="lineno">  931</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  932</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(PUSHS_NIL, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  933</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  934</span> </div>
<div class="line"><span class="lineno">  935</span>                    }</div>
<div class="line"><span class="lineno">  936</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  937</span>                    <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SYN, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;It its not a valid operand&quot;</span>);</div>
<div class="line"><span class="lineno">  938</span>                }</div>
<div class="line"><span class="lineno">  939</span>                <a class="code hl_function" href="token__stack_8c.html#a5832d040dcb260d4c578ecd714421db6">stack_push</a>(&amp;stack, tmp1);</div>
<div class="line"><span class="lineno">  940</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  941</span> </div>
<div class="line"><span class="lineno">  942</span>            <span class="keywordflow">case</span> RULE_EXCL:</div>
<div class="line"><span class="lineno">  943</span>                <span class="keywordflow">if</span>(tmp2-&gt;exp_value == INT_QM || tmp2-&gt;exp_value == DOUBLE_QM || tmp2-&gt;exp_value == STRING_QM){</div>
<div class="line"><span class="lineno">  944</span> </div>
<div class="line"><span class="lineno">  945</span>                    <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  946</span>                    <a class="code hl_function" href="parser_8c.html#a22eab197bb540509ac901739ab3f02bc">vardef_outermost_while</a>(EXCLAMATION_RULE_DEFVAR, NULL, variable_counter);</div>
<div class="line"><span class="lineno">  947</span>                    <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(EXCLAMATION_RULE, active-&gt;frame, NULL, variable_counter, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  948</span>                    <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  949</span> </div>
<div class="line"><span class="lineno">  950</span>                    variable_counter++;</div>
<div class="line"><span class="lineno">  951</span>                    <span class="comment">//Nillable value is now converted to nonnillable</span></div>
<div class="line"><span class="lineno">  952</span>                    <span class="keywordflow">if</span>(tmp2-&gt;exp_value == INT_QM){</div>
<div class="line"><span class="lineno">  953</span>                        tmp2-&gt;exp_value = INT;</div>
<div class="line"><span class="lineno">  954</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(tmp2-&gt;exp_value == DOUBLE_QM){</div>
<div class="line"><span class="lineno">  955</span>                        tmp2-&gt;exp_value = DOUBLE;</div>
<div class="line"><span class="lineno">  956</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  957</span>                        tmp2-&gt;exp_value = STRING;</div>
<div class="line"><span class="lineno">  958</span>                    }</div>
<div class="line"><span class="lineno">  959</span>                    <a class="code hl_function" href="token__stack_8c.html#a5832d040dcb260d4c578ecd714421db6">stack_push</a>(&amp;stack, tmp2);</div>
<div class="line"><span class="lineno">  960</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  961</span>                    <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Can not apply ! to non qm operands&quot;</span>);</div>
<div class="line"><span class="lineno">  962</span>                }           </div>
<div class="line"><span class="lineno">  963</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  964</span> </div>
<div class="line"><span class="lineno">  965</span>            <span class="comment">// E -&gt; (E)</span></div>
<div class="line"><span class="lineno">  966</span>            <span class="keywordflow">case</span> RULE_PAR:</div>
<div class="line"><span class="lineno">  967</span>                <a class="code hl_function" href="token__stack_8c.html#a5832d040dcb260d4c578ecd714421db6">stack_push</a>(&amp;stack, tmp2);</div>
<div class="line"><span class="lineno">  968</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  969</span> </div>
<div class="line"><span class="lineno">  970</span>            <span class="comment">// vsehny easy binarni operace, neni moc co resit, check typu atd. viz check_types</span></div>
<div class="line"><span class="lineno">  971</span>            <span class="keywordflow">case</span> RULE_ADD:</div>
<div class="line"><span class="lineno">  972</span>                <a class="code hl_function" href="expression__parser_8c.html#a2c8a1a87cd129095d812517620c59eb5">check_types</a>(tmp1,tmp2, tmp3);</div>
<div class="line"><span class="lineno">  973</span>                <span class="keywordflow">if</span>(concat){</div>
<div class="line"><span class="lineno">  974</span>                    concat = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  975</span>                    </div>
<div class="line"><span class="lineno">  976</span>                } <span class="keywordflow">else</span> { </div>
<div class="line"><span class="lineno">  977</span>                    <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  978</span>                    <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(ADDS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  979</span>                    <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  980</span>                }</div>
<div class="line"><span class="lineno">  981</span> </div>
<div class="line"><span class="lineno">  982</span>                <span class="keywordflow">if</span>(tmp1-&gt;exp_type == ID || tmp3-&gt;exp_type == ID){</div>
<div class="line"><span class="lineno">  983</span>                    <span class="comment">//ID was used in addition, cant be converted later</span></div>
<div class="line"><span class="lineno">  984</span>                    tmp1-&gt;was_exp = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  985</span>                }</div>
<div class="line"><span class="lineno">  986</span> </div>
<div class="line"><span class="lineno">  987</span>                <a class="code hl_function" href="token__stack_8c.html#a5832d040dcb260d4c578ecd714421db6">stack_push</a>(&amp;stack, tmp1);</div>
<div class="line"><span class="lineno">  988</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  989</span>            <span class="keywordflow">case</span> RULE_MUL:</div>
<div class="line"><span class="lineno">  990</span>                <a class="code hl_function" href="expression__parser_8c.html#a2c8a1a87cd129095d812517620c59eb5">check_types</a>(tmp1, tmp2, tmp3);</div>
<div class="line"><span class="lineno">  991</span>                <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  992</span>                <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(MULS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  993</span>                <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  994</span> </div>
<div class="line"><span class="lineno">  995</span>                <span class="keywordflow">if</span>(tmp1-&gt;exp_type == ID || tmp3-&gt;exp_type == ID){</div>
<div class="line"><span class="lineno">  996</span>                    <span class="comment">//ID was used in addition, cant be converted later</span></div>
<div class="line"><span class="lineno">  997</span>                    tmp1-&gt;was_exp = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  998</span>                }</div>
<div class="line"><span class="lineno">  999</span> </div>
<div class="line"><span class="lineno"> 1000</span>                <a class="code hl_function" href="token__stack_8c.html#a5832d040dcb260d4c578ecd714421db6">stack_push</a>(&amp;stack, tmp1);</div>
<div class="line"><span class="lineno"> 1001</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1002</span>            <span class="keywordflow">case</span> RULE_SUB:</div>
<div class="line"><span class="lineno"> 1003</span>                <a class="code hl_function" href="expression__parser_8c.html#a2c8a1a87cd129095d812517620c59eb5">check_types</a>(tmp1, tmp2, tmp3);</div>
<div class="line"><span class="lineno"> 1004</span>                <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno"> 1005</span>                <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst1 = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(SUBS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno"> 1006</span>                <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst1);</div>
<div class="line"><span class="lineno"> 1007</span> </div>
<div class="line"><span class="lineno"> 1008</span>                <span class="keywordflow">if</span>(tmp1-&gt;exp_type == ID || tmp3-&gt;exp_type == ID){</div>
<div class="line"><span class="lineno"> 1009</span>                    <span class="comment">//ID was used in addition, cant be converted later</span></div>
<div class="line"><span class="lineno"> 1010</span>                    tmp1-&gt;was_exp = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1011</span>                }</div>
<div class="line"><span class="lineno"> 1012</span> </div>
<div class="line"><span class="lineno"> 1013</span>                <a class="code hl_function" href="token__stack_8c.html#a5832d040dcb260d4c578ecd714421db6">stack_push</a>(&amp;stack, tmp1);</div>
<div class="line"><span class="lineno"> 1014</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1015</span>            <span class="keywordflow">case</span> RULE_DIV:</div>
<div class="line"><span class="lineno"> 1016</span>                <a class="code hl_function" href="expression__parser_8c.html#a2c8a1a87cd129095d812517620c59eb5">check_types</a>(tmp1, tmp2, tmp3);</div>
<div class="line"><span class="lineno"> 1017</span> </div>
<div class="line"><span class="lineno"> 1018</span>                <span class="keywordflow">if</span>(tmp1-&gt;exp_type == ID || tmp3-&gt;exp_type == ID){</div>
<div class="line"><span class="lineno"> 1019</span>                    <span class="comment">//ID was used in addition, cant be converted later</span></div>
<div class="line"><span class="lineno"> 1020</span>                    tmp1-&gt;was_exp = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1021</span>                }</div>
<div class="line"><span class="lineno"> 1022</span> </div>
<div class="line"><span class="lineno"> 1023</span>                <a class="code hl_function" href="token__stack_8c.html#a5832d040dcb260d4c578ecd714421db6">stack_push</a>(&amp;stack, tmp1);</div>
<div class="line"><span class="lineno"> 1024</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1025</span>            <span class="keywordflow">case</span> RULE_LESS:</div>
<div class="line"><span class="lineno"> 1026</span>                <a class="code hl_function" href="expression__parser_8c.html#a2c8a1a87cd129095d812517620c59eb5">check_types</a>(tmp1, tmp2, tmp3);</div>
<div class="line"><span class="lineno"> 1027</span>                <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno"> 1028</span>                <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst2 = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(LTS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno"> 1029</span>                <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst2);</div>
<div class="line"><span class="lineno"> 1030</span> </div>
<div class="line"><span class="lineno"> 1031</span>                <a class="code hl_function" href="token__stack_8c.html#a5832d040dcb260d4c578ecd714421db6">stack_push</a>(&amp;stack, tmp1);</div>
<div class="line"><span class="lineno"> 1032</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1033</span> </div>
<div class="line"><span class="lineno"> 1034</span>            <span class="keywordflow">case</span> RULE_LEQ:</div>
<div class="line"><span class="lineno"> 1035</span>                <span class="comment">//Another codegen push because of more operations (Lower, equal and then OR)</span></div>
<div class="line"><span class="lineno"> 1036</span>                <a class="code hl_function" href="expression__parser_8c.html#a0cef3a861b8e17198c9698f31bb367b5">push_for_leq_geq</a>(tmp1, tmp3);</div>
<div class="line"><span class="lineno"> 1037</span>                <a class="code hl_function" href="expression__parser_8c.html#a2c8a1a87cd129095d812517620c59eb5">check_types</a>(tmp1, tmp2, tmp3);</div>
<div class="line"><span class="lineno"> 1038</span> </div>
<div class="line"><span class="lineno"> 1039</span>                <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno"> 1040</span>                <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst31 = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(LTS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno"> 1041</span>                <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst31);</div>
<div class="line"><span class="lineno"> 1042</span>                <a class="code hl_function" href="parser_8c.html#a22eab197bb540509ac901739ab3f02bc">vardef_outermost_while</a>(LEQ_RULE_DEFVAR, NULL, variable_counter);</div>
<div class="line"><span class="lineno"> 1043</span>                <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst3 = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(LEQ_RULE, active-&gt;frame, NULL, variable_counter, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno"> 1044</span>                <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst3);</div>
<div class="line"><span class="lineno"> 1045</span> </div>
<div class="line"><span class="lineno"> 1046</span>                <a class="code hl_function" href="token__stack_8c.html#a5832d040dcb260d4c578ecd714421db6">stack_push</a>(&amp;stack, tmp1);</div>
<div class="line"><span class="lineno"> 1047</span>                variable_counter++;</div>
<div class="line"><span class="lineno"> 1048</span>                variable_counter++;</div>
<div class="line"><span class="lineno"> 1049</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1050</span>            <span class="keywordflow">case</span> RULE_GTR:</div>
<div class="line"><span class="lineno"> 1051</span>                <a class="code hl_function" href="expression__parser_8c.html#a2c8a1a87cd129095d812517620c59eb5">check_types</a>(tmp1, tmp2, tmp3);</div>
<div class="line"><span class="lineno"> 1052</span>                <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno"> 1053</span>                <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst4 = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(GTS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno"> 1054</span>                <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst4);</div>
<div class="line"><span class="lineno"> 1055</span> </div>
<div class="line"><span class="lineno"> 1056</span>                <a class="code hl_function" href="token__stack_8c.html#a5832d040dcb260d4c578ecd714421db6">stack_push</a>(&amp;stack, tmp1);</div>
<div class="line"><span class="lineno"> 1057</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1058</span>            <span class="keywordflow">case</span> RULE_GEQ:</div>
<div class="line"><span class="lineno"> 1059</span>                <a class="code hl_function" href="expression__parser_8c.html#a0cef3a861b8e17198c9698f31bb367b5">push_for_leq_geq</a>(tmp1, tmp3);</div>
<div class="line"><span class="lineno"> 1060</span>                <a class="code hl_function" href="expression__parser_8c.html#a2c8a1a87cd129095d812517620c59eb5">check_types</a>(tmp1, tmp2, tmp3);</div>
<div class="line"><span class="lineno"> 1061</span> </div>
<div class="line"><span class="lineno"> 1062</span>                <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno"> 1063</span>                <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst51 = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(GTS,<span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno"> 1064</span>                <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst51);</div>
<div class="line"><span class="lineno"> 1065</span>                <a class="code hl_function" href="parser_8c.html#a22eab197bb540509ac901739ab3f02bc">vardef_outermost_while</a>(GEQ_RULE_DEFVAR, NULL, variable_counter);</div>
<div class="line"><span class="lineno"> 1066</span>                <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst5 = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(GEQ_RULE, active-&gt;frame, NULL, variable_counter, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno"> 1067</span>                <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst5);</div>
<div class="line"><span class="lineno"> 1068</span> </div>
<div class="line"><span class="lineno"> 1069</span>                <a class="code hl_function" href="token__stack_8c.html#a5832d040dcb260d4c578ecd714421db6">stack_push</a>(&amp;stack, tmp1);</div>
<div class="line"><span class="lineno"> 1070</span>                variable_counter++;</div>
<div class="line"><span class="lineno"> 1071</span>                variable_counter++;</div>
<div class="line"><span class="lineno"> 1072</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1073</span>            <span class="keywordflow">case</span> RULE_EQ:</div>
<div class="line"><span class="lineno"> 1074</span>                <a class="code hl_function" href="expression__parser_8c.html#a2c8a1a87cd129095d812517620c59eb5">check_types</a>(tmp1, tmp2, tmp3);</div>
<div class="line"><span class="lineno"> 1075</span>                <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno"> 1076</span>                <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst6 = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(EQS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno"> 1077</span>                <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst6);</div>
<div class="line"><span class="lineno"> 1078</span> </div>
<div class="line"><span class="lineno"> 1079</span>                <a class="code hl_function" href="token__stack_8c.html#a5832d040dcb260d4c578ecd714421db6">stack_push</a>(&amp;stack, tmp1);</div>
<div class="line"><span class="lineno"> 1080</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1081</span>            <span class="keywordflow">case</span> RULE_NEQ:</div>
<div class="line"><span class="lineno"> 1082</span>                <a class="code hl_function" href="expression__parser_8c.html#a2c8a1a87cd129095d812517620c59eb5">check_types</a>(tmp1, tmp2, tmp3);</div>
<div class="line"><span class="lineno"> 1083</span>                <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno"> 1084</span>                <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst7 = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(EQS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno"> 1085</span>                <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst7);</div>
<div class="line"><span class="lineno"> 1086</span> </div>
<div class="line"><span class="lineno"> 1087</span>                <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno"> 1088</span>                <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst8 = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(NOTS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno"> 1089</span>                <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst8);</div>
<div class="line"><span class="lineno"> 1090</span> </div>
<div class="line"><span class="lineno"> 1091</span>                <a class="code hl_function" href="token__stack_8c.html#a5832d040dcb260d4c578ecd714421db6">stack_push</a>(&amp;stack, tmp1);</div>
<div class="line"><span class="lineno"> 1092</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1093</span> </div>
<div class="line"><span class="lineno"> 1094</span>            <span class="keywordflow">case</span> RULE_QMS:</div>
<div class="line"><span class="lineno"> 1095</span>                <span class="comment">//Rule accepts only nillable value on left side or nil itself</span></div>
<div class="line"><span class="lineno"> 1096</span>                <span class="keywordflow">if</span>(tmp3-&gt;exp_value == INT_QM || tmp3-&gt;exp_value == DOUBLE_QM || tmp3-&gt;exp_value == STRING_QM || tmp3-&gt;exp_value == NIL){</div>
<div class="line"><span class="lineno"> 1097</span>                    <span class="comment">//Right side has to be the same as left except it is non-nillable</span></div>
<div class="line"><span class="lineno"> 1098</span>                    <span class="keywordflow">if</span>((tmp3-&gt;exp_value == INT_QM &amp;&amp; tmp1-&gt;exp_value != INT) || (tmp3-&gt;exp_value == DOUBLE_QM &amp;&amp; tmp1-&gt;exp_value != DOUBLE) || (tmp3-&gt;exp_value == STRING_QM &amp;&amp; tmp1-&gt;exp_value != STRING)){</div>
<div class="line"><span class="lineno"> 1099</span>                        <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;wrong ID type for right side of ??&quot;</span>);</div>
<div class="line"><span class="lineno"> 1100</span>                    }</div>
<div class="line"><span class="lineno"> 1101</span>              </div>
<div class="line"><span class="lineno"> 1102</span> </div>
<div class="line"><span class="lineno"> 1103</span>                    <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno"> 1104</span>                    <a class="code hl_function" href="parser_8c.html#a22eab197bb540509ac901739ab3f02bc">vardef_outermost_while</a>(QMS_RULE_DEFVAR, NULL, variable_counter);</div>
<div class="line"><span class="lineno"> 1105</span>                    <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(QMS_RULE, active-&gt;frame, NULL, variable_counter, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno"> 1106</span>                    <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno"> 1107</span> </div>
<div class="line"><span class="lineno"> 1108</span> </div>
<div class="line"><span class="lineno"> 1109</span>                    variable_counter++;</div>
<div class="line"><span class="lineno"> 1110</span>                    variable_counter++;</div>
<div class="line"><span class="lineno"> 1111</span>                    <a class="code hl_function" href="token__stack_8c.html#a5832d040dcb260d4c578ecd714421db6">stack_push</a>(&amp;stack, tmp1);</div>
<div class="line"><span class="lineno"> 1112</span> </div>
<div class="line"><span class="lineno"> 1113</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1114</span>                    <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;wrong ID type for left side of ??&quot;</span>);</div>
<div class="line"><span class="lineno"> 1115</span>                }</div>
<div class="line"><span class="lineno"> 1116</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1117</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1118</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1119</span>            }</div>
<div class="line"><span class="lineno"> 1120</span> </div>
<div class="line"><span class="lineno"> 1121</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1122</span>        <span class="comment">//same as &lt;, used for parenthesis</span></div>
<div class="line"><span class="lineno"> 1123</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;=&#39;</span>:</div>
<div class="line"><span class="lineno"> 1124</span>            <a class="code hl_function" href="token__stack_8c.html#a5832d040dcb260d4c578ecd714421db6">stack_push</a>(&amp;stack, current_token);</div>
<div class="line"><span class="lineno"> 1125</span>            current_token = <a class="code hl_function" href="parser_8c.html#a1b103e2dd90bb1d85b44808a1d91fd29">get_next_token</a>();</div>
<div class="line"><span class="lineno"> 1126</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1127</span>        </div>
<div class="line"><span class="lineno"> 1128</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1129</span> </div>
<div class="line"><span class="lineno"> 1130</span>            <span class="comment">//Result from precedence table is empty, however if exp. parser got id or rpar expression reduction will start and current token will be handed to parser</span></div>
<div class="line"><span class="lineno"> 1131</span>            <span class="keywordflow">if</span>(current_token-&gt;type == TOKEN_ID || current_token-&gt;type == TOKEN_RPAR){</div>
<div class="line"><span class="lineno"> 1132</span>            table_result = <span class="charliteral">&#39;&gt;&#39;</span>;</div>
<div class="line"><span class="lineno"> 1133</span>            next_token_index = 15;</div>
<div class="line"><span class="lineno"> 1134</span>            stop_expression = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1135</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1136</span>            }</div>
<div class="line"><span class="lineno"> 1137</span> </div>
<div class="line"><span class="lineno"> 1138</span>            <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SYN, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;syntax error&quot;</span>);</div>
<div class="line"><span class="lineno"> 1139</span>        }</div>
<div class="line"><span class="lineno"> 1140</span> </div>
<div class="line"><span class="lineno"> 1141</span>    }</div>
<div class="line"><span class="lineno"> 1142</span>}</div>
<div class="ttc" id="acodegen_8c_html_aaaeaf377d6f12f6798cd02c6b1c50634"><div class="ttname"><a href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a></div><div class="ttdeci">instruction * inst_init(inst_type type, char frame, char *name, int cnt, int int_value, double float_value, char *string_value)</div><div class="ttdoc">Instruction initialization - sets the relevant informations and the rest to default.</div><div class="ttdef"><b>Definition</b> <a href="codegen_8c_source.html#l00036">codegen.c:36</a></div></div>
<div class="ttc" id="acodegen_8c_html_ac57fdf46ed4c2ba39ec0a6494b06c4eb"><div class="ttname"><a href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a></div><div class="ttdeci">void inst_list_insert_last(instruction_list *list, instruction *new_inst)</div><div class="ttdoc">Insert instruction at the end of the list.</div><div class="ttdef"><b>Definition</b> <a href="codegen_8c_source.html#l00064">codegen.c:64</a></div></div>
<div class="ttc" id="aerror_8c_html_a08672f1381d39b459aa779748bf40143"><div class="ttname"><a href="error_8c.html#a08672f1381d39b459aa779748bf40143">allocate_memory</a></div><div class="ttdeci">void * allocate_memory(size_t size)</div><div class="ttdoc">Function to allocate memory, check for malloc errors and push it onto the stack.</div><div class="ttdef"><b>Definition</b> <a href="error_8c_source.html#l00026">error.c:26</a></div></div>
<div class="ttc" id="aerror_8c_html_a2f6658959c571cea3d1d03dc785a7e9a"><div class="ttname"><a href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a></div><div class="ttdeci">void error_exit(error_code_t error_code, const char *module, const char *message)</div><div class="ttdoc">Error handler for IFJ23 compiler.</div><div class="ttdef"><b>Definition</b> <a href="error_8c_source.html#l00043">error.c:43</a></div></div>
<div class="ttc" id="aexpression__parser_8c_html_a0cef3a861b8e17198c9698f31bb367b5"><div class="ttname"><a href="expression__parser_8c.html#a0cef3a861b8e17198c9698f31bb367b5">push_for_leq_geq</a></div><div class="ttdeci">void push_for_leq_geq(token_t *tmp1, token_t *tmp3)</div><div class="ttdoc">Prints specific tokens for operators Lequal and Gequal to stdout in IFJcode.</div><div class="ttdef"><b>Definition</b> <a href="expression__parser_8c_source.html#l00658">expression_parser.c:658</a></div></div>
<div class="ttc" id="aexpression__parser_8c_html_a2c8a1a87cd129095d812517620c59eb5"><div class="ttname"><a href="expression__parser_8c.html#a2c8a1a87cd129095d812517620c59eb5">check_types</a></div><div class="ttdeci">void check_types(token_t *tmp1, token_t *tmp2, token_t *tmp3)</div><div class="ttdoc">Checks the tokens for sematic analysis and if possible converts them.</div><div class="ttdef"><b>Definition</b> <a href="expression__parser_8c_source.html#l00227">expression_parser.c:227</a></div></div>
<div class="ttc" id="aexpression__parser_8c_html_a4de2f719aeb5d3f8de400ec1eaa5a787"><div class="ttname"><a href="expression__parser_8c.html#a4de2f719aeb5d3f8de400ec1eaa5a787">token_create</a></div><div class="ttdeci">token_t * token_create(token_type_t token_type)</div><div class="ttdoc">Creates new token.</div><div class="ttdef"><b>Definition</b> <a href="expression__parser_8c_source.html#l00131">expression_parser.c:131</a></div></div>
<div class="ttc" id="aexpression__parser_8c_html_ac66a178aa09460dc7c0f17aad9e583e9"><div class="ttname"><a href="expression__parser_8c.html#ac66a178aa09460dc7c0f17aad9e583e9">get_index</a></div><div class="ttdeci">int get_index(token_type_t token)</div><div class="ttdoc">Get the index of token from precedence table.</div><div class="ttdef"><b>Definition</b> <a href="expression__parser_8c_source.html#l00054">expression_parser.c:54</a></div></div>
<div class="ttc" id="aexpression__parser_8c_html_acc1c95d7f138e3e233baa89d6429aa84"><div class="ttname"><a href="expression__parser_8c.html#acc1c95d7f138e3e233baa89d6429aa84">token_shift</a></div><div class="ttdeci">void token_shift(token_stack *stack)</div><div class="ttdoc">Puts a shift symbol on stack.</div><div class="ttdef"><b>Definition</b> <a href="expression__parser_8c_source.html#l00141">expression_parser.c:141</a></div></div>
<div class="ttc" id="aexpression__parser_8c_html_ad736ee1e72b14115057e6ad07188a7b9"><div class="ttname"><a href="expression__parser_8c.html#ad736ee1e72b14115057e6ad07188a7b9">find_reduce_rule</a></div><div class="ttdeci">expression_rules_t find_reduce_rule(token_t *token1, token_t *token2, token_t *token3, int number_of_tokens)</div><div class="ttdoc">Function to find appropriate rule for reducing expressions on stack.</div><div class="ttdef"><b>Definition</b> <a href="expression__parser_8c_source.html#l00158">expression_parser.c:158</a></div></div>
<div class="ttc" id="aforest_8c_html_a619f25159598d0052096dd647035525c"><div class="ttname"><a href="forest_8c.html#a619f25159598d0052096dd647035525c">forest_search_scope</a></div><div class="ttdeci">forest_node * forest_search_scope(forest_node *node, char *key)</div><div class="ttdoc">Searches for a scope where the symbol is (and its parents if not found)</div><div class="ttdef"><b>Definition</b> <a href="forest_8c_source.html#l00139">forest.c:139</a></div></div>
<div class="ttc" id="aforest_8c_html_aaec9905b456776ed75cd0e0ba54ca1c0"><div class="ttname"><a href="forest_8c.html#aaec9905b456776ed75cd0e0ba54ca1c0">forest_search_symbol</a></div><div class="ttdeci">AVL_tree * forest_search_symbol(forest_node *node, char *key)</div><div class="ttdoc">Searches for a symbol in the symbol table of the node (and its parents if not found)</div><div class="ttdef"><b>Definition</b> <a href="forest_8c_source.html#l00125">forest.c:125</a></div></div>
<div class="ttc" id="aparser_8c_html_a015937b1d3bbcec4f14bf45d55b1f9c9"><div class="ttname"><a href="parser_8c.html#a015937b1d3bbcec4f14bf45d55b1f9c9">renamer</a></div><div class="ttdeci">char * renamer(AVL_tree *node)</div><div class="ttdoc">Renamer for unique names for variables to codegen.</div><div class="ttdef"><b>Definition</b> <a href="parser_8c_source.html#l01332">parser.c:1332</a></div></div>
<div class="ttc" id="aparser_8c_html_a1b103e2dd90bb1d85b44808a1d91fd29"><div class="ttname"><a href="parser_8c.html#a1b103e2dd90bb1d85b44808a1d91fd29">get_next_token</a></div><div class="ttdeci">token_t * get_next_token()</div><div class="ttdoc">Get the next token from the scanner.</div><div class="ttdef"><b>Definition</b> <a href="parser_8c_source.html#l00106">parser.c:106</a></div></div>
<div class="ttc" id="aparser_8c_html_a22eab197bb540509ac901739ab3f02bc"><div class="ttname"><a href="parser_8c.html#a22eab197bb540509ac901739ab3f02bc">vardef_outermost_while</a></div><div class="ttdeci">void vardef_outermost_while(inst_type type, char *nickname, int cnt)</div><div class="ttdoc">Generate instruction for variable definition in while cycle (needs to be moved)</div><div class="ttdef"><b>Definition</b> <a href="parser_8c_source.html#l01504">parser.c:1504</a></div></div>
<div class="ttc" id="aparser_8c_html_ac0e56df4d0aeb6e6ae57932330de7457"><div class="ttname"><a href="parser_8c.html#ac0e56df4d0aeb6e6ae57932330de7457">type</a></div><div class="ttdeci">void type()</div><div class="ttdoc">&lt;type&gt; -&gt; Int | Int? | Double | Double? | String | String?</div><div class="ttdef"><b>Definition</b> <a href="parser_8c_source.html#l00421">parser.c:421</a></div></div>
<div class="ttc" id="astructavl__tree_html"><div class="ttname"><a href="structavl__tree.html">avl_tree</a></div><div class="ttdef"><b>Definition</b> <a href="symtable_8h_source.html#l00061">symtable.h:61</a></div></div>
<div class="ttc" id="astructs__forest__node_html"><div class="ttname"><a href="structs__forest__node.html">s_forest_node</a></div><div class="ttdef"><b>Definition</b> <a href="forest_8h_source.html#l00030">forest.h:30</a></div></div>
<div class="ttc" id="astructs__instruction_html"><div class="ttname"><a href="structs__instruction.html">s_instruction</a></div><div class="ttdef"><b>Definition</b> <a href="codegen_8h_source.html#l00088">codegen.h:88</a></div></div>
<div class="ttc" id="astructtoken__stack_html"><div class="ttname"><a href="structtoken__stack.html">token_stack</a></div><div class="ttdoc">Structure representing stack of tokens.</div><div class="ttdef"><b>Definition</b> <a href="token__stack_8h_source.html#l00019">token_stack.h:19</a></div></div>
<div class="ttc" id="astructtoken_html"><div class="ttname"><a href="structtoken.html">token</a></div><div class="ttdoc">Struct of token.</div><div class="ttdef"><b>Definition</b> <a href="scanner_8h_source.html#l00170">scanner.h:170</a></div></div>
<div class="ttc" id="atoken__stack_8c_html_a2a1b1bcee3718ed8e435725c7b624ded"><div class="ttname"><a href="token__stack_8c.html#a2a1b1bcee3718ed8e435725c7b624ded">dispose_stack</a></div><div class="ttdeci">void dispose_stack(token_stack *token_stack)</div><div class="ttdoc">Disposes of a token stack.</div><div class="ttdef"><b>Definition</b> <a href="token__stack_8c_source.html#l00074">token_stack.c:74</a></div></div>
<div class="ttc" id="atoken__stack_8c_html_a5832d040dcb260d4c578ecd714421db6"><div class="ttname"><a href="token__stack_8c.html#a5832d040dcb260d4c578ecd714421db6">stack_push</a></div><div class="ttdeci">void stack_push(token_stack *token_stack, token_t *token)</div><div class="ttdoc">Pushes a token onto the top of the stack.</div><div class="ttdef"><b>Definition</b> <a href="token__stack_8c_source.html#l00036">token_stack.c:36</a></div></div>
<div class="ttc" id="atoken__stack_8c_html_a7b3ed3304b7b78ddf06f7800d9a50db7"><div class="ttname"><a href="token__stack_8c.html#a7b3ed3304b7b78ddf06f7800d9a50db7">stack_top_terminal</a></div><div class="ttdeci">token_t * stack_top_terminal(token_stack *token_stack)</div><div class="ttdoc">Returns top terminal token from stack.</div><div class="ttdef"><b>Definition</b> <a href="token__stack_8c_source.html#l00059">token_stack.c:59</a></div></div>
<div class="ttc" id="atoken__stack_8c_html_ab19e83ea17ecfb65941e2a82983cf0b4"><div class="ttname"><a href="token__stack_8c.html#ab19e83ea17ecfb65941e2a82983cf0b4">stack_pop</a></div><div class="ttdeci">void stack_pop(token_stack *token_stack)</div><div class="ttdoc">Pops a token from the top of the stack.</div><div class="ttdef"><b>Definition</b> <a href="token__stack_8c_source.html#l00048">token_stack.c:48</a></div></div>
<div class="ttc" id="atoken__stack_8c_html_ace4d4e0ece15774f4df864b730b293a1"><div class="ttname"><a href="token__stack_8c.html#ace4d4e0ece15774f4df864b730b293a1">stack_top</a></div><div class="ttdeci">token_t * stack_top(token_stack *token_stack)</div><div class="ttdoc">Returns the token at the top of the stack.</div><div class="ttdef"><b>Definition</b> <a href="token__stack_8c_source.html#l00053">token_stack.c:53</a></div></div>
<div class="ttc" id="atoken__stack_8c_html_ad4bb2b5ed621c5319699bd5a4395f519"><div class="ttname"><a href="token__stack_8c.html#ad4bb2b5ed621c5319699bd5a4395f519">stack_init</a></div><div class="ttdeci">void stack_init(token_stack *token_stack)</div><div class="ttdoc">Initializes a token stack with a given capacity.</div><div class="ttdef"><b>Definition</b> <a href="token__stack_8c_source.html#l00028">token_stack.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af20a08af025114e96fc67278283d909b" name="af20a08af025114e96fc67278283d909b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af20a08af025114e96fc67278283d909b">&#9670;&#160;</a></span>check_types()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void check_types </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="scanner_8h.html#afca089a78950c6e3e420d0e666899390">token_t</a> *&#160;</td>
          <td class="paramname"><em>token1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="scanner_8h.html#afca089a78950c6e3e420d0e666899390">token_t</a> *&#160;</td>
          <td class="paramname"><em>token2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="scanner_8h.html#afca089a78950c6e3e420d0e666899390">token_t</a> *&#160;</td>
          <td class="paramname"><em>token3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks the tokens for sematic analysis and if possible converts them. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">token1</td><td>Pointer to the first token to be checked </td></tr>
    <tr><td class="paramname">token2</td><td>Pointer to the second token to be checked </td></tr>
    <tr><td class="paramname">token3</td><td>Pointer to the third token to be checked </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="expression__parser_8c_source.html#l00227">227</a> of file <a class="el" href="expression__parser_8c_source.html">expression_parser.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  227</span>                                                             {</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span>    <span class="comment">//First case, same for +,-,*</span></div>
<div class="line"><span class="lineno">  231</span>    <span class="keywordflow">if</span>(tmp2-&gt;type == TOKEN_PLUS || tmp2-&gt;type == TOKEN_MINUS || tmp2-&gt;type == TOKEN_MULTIPLY){</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>        <span class="keywordflow">if</span>(tmp1-&gt;exp_value == NIL || tmp3-&gt;exp_value == NIL){</div>
<div class="line"><span class="lineno">  234</span>        <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Can not do arithmetic opeation with nils&quot;</span>);</div>
<div class="line"><span class="lineno">  235</span>        }</div>
<div class="line"><span class="lineno">  236</span>            </div>
<div class="line"><span class="lineno">  237</span>        <span class="keywordflow">if</span>(tmp1-&gt;exp_value == BOOL || tmp3-&gt;exp_value == BOOL){</div>
<div class="line"><span class="lineno">  238</span>            <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Can not do arithmetic opeation with booleans&quot;</span>);</div>
<div class="line"><span class="lineno">  239</span>        }</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>        <span class="comment">//Same token types</span></div>
<div class="line"><span class="lineno">  242</span>        <span class="keywordflow">if</span> (tmp1-&gt;exp_value == tmp3-&gt;exp_value){</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>            <span class="keywordflow">if</span>((tmp1-&gt;exp_value == INT_QM &amp;&amp; tmp3-&gt;exp_value == INT_QM) || (tmp1-&gt;exp_value == DOUBLE_QM &amp;&amp; tmp3-&gt;exp_value == DOUBLE_QM) || (tmp1-&gt;exp_value == STRING_QM &amp;&amp; tmp3-&gt;exp_value == STRING_QM)){</div>
<div class="line"><span class="lineno">  245</span>                <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Can not do operation with 2 QM types without ! them&quot;</span>);</div>
<div class="line"><span class="lineno">  246</span>            }</div>
<div class="line"><span class="lineno">  247</span> </div>
<div class="line"><span class="lineno">  248</span>            <span class="keywordflow">if</span>((tmp1-&gt;exp_type == CONST &amp;&amp; tmp3-&gt;exp_type == ID) || (tmp1-&gt;exp_type == ID &amp;&amp; tmp3-&gt;exp_type == CONST)){</div>
<div class="line"><span class="lineno">  249</span>                <span class="comment">//tmp1 is always token to be pushed onto stack, so it is changed to id</span></div>
<div class="line"><span class="lineno">  250</span>                tmp1-&gt;exp_type = ID;</div>
<div class="line"><span class="lineno">  251</span>            }</div>
<div class="line"><span class="lineno">  252</span>            <span class="comment">//Strings are only allowed in concat</span></div>
<div class="line"><span class="lineno">  253</span>            <span class="keywordflow">if</span>(tmp1-&gt;exp_value == STRING &amp;&amp; tmp3-&gt;exp_value == STRING &amp;&amp; tmp2-&gt;type != TOKEN_PLUS){</div>
<div class="line"><span class="lineno">  254</span>                <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Wrong operator in concatenation&quot;</span>);</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(tmp1-&gt;exp_value == STRING &amp;&amp; tmp3-&gt;exp_value == STRING &amp;&amp; tmp2-&gt;type == TOKEN_PLUS){</div>
<div class="line"><span class="lineno">  257</span>                concat = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>                <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  260</span>                <a class="code hl_function" href="parser_8c.html#a22eab197bb540509ac901739ab3f02bc">vardef_outermost_while</a>(CONCAT_DEFVAR, NULL, variable_counter);</div>
<div class="line"><span class="lineno">  261</span>                <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(CONCAT, active-&gt;frame, NULL, variable_counter, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  262</span>                <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>                variable_counter++;</div>
<div class="line"><span class="lineno">  265</span>                variable_counter++;</div>
<div class="line"><span class="lineno">  266</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>            }</div>
<div class="line"><span class="lineno">  269</span>        <span class="comment">//types are not the same</span></div>
<div class="line"><span class="lineno">  270</span>        } <span class="keywordflow">else</span>{</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>            <span class="comment">//if one is id and other constant, it could be converted into double if possible</span></div>
<div class="line"><span class="lineno">  273</span>            <span class="keywordflow">if</span> (tmp1-&gt;exp_type == CONST){</div>
<div class="line"><span class="lineno">  274</span>                <span class="keywordflow">if</span> (tmp3-&gt;exp_type == ID){</div>
<div class="line"><span class="lineno">  275</span>                    <span class="keywordflow">if</span>(tmp3-&gt;exp_value == DOUBLE || tmp3-&gt;exp_value == DOUBLE_QM){</div>
<div class="line"><span class="lineno">  276</span>                        </div>
<div class="line"><span class="lineno">  277</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  278</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(INT2FLOATS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  279</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  280</span> </div>
<div class="line"><span class="lineno">  281</span>                        tmp1-&gt;exp_value = DOUBLE;</div>
<div class="line"><span class="lineno">  282</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  283</span>                        <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;ID type mismatch&quot;</span>);</div>
<div class="line"><span class="lineno">  284</span>                    }</div>
<div class="line"><span class="lineno">  285</span>                }</div>
<div class="line"><span class="lineno">  286</span>                <span class="keywordflow">else</span>{</div>
<div class="line"><span class="lineno">  287</span>                    <span class="keywordflow">if</span> (tmp1-&gt;exp_value == STRING || tmp3-&gt;exp_value == STRING){</div>
<div class="line"><span class="lineno">  288</span>                        <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;This cannot participate in concatenation&quot;</span>);</div>
<div class="line"><span class="lineno">  289</span>                    }</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>                    <span class="keywordflow">if</span> (tmp1-&gt;exp_value == INT || tmp1-&gt;exp_value == INT_QM){</div>
<div class="line"><span class="lineno">  292</span>                        </div>
<div class="line"><span class="lineno">  293</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  294</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(INT2FLOATS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  295</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>                        tmp1-&gt;exp_value = DOUBLE;</div>
<div class="line"><span class="lineno">  298</span>                    }</div>
<div class="line"><span class="lineno">  299</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp3-&gt;exp_value == INT || tmp3-&gt;exp_value == INT_QM){</div>
<div class="line"><span class="lineno">  300</span>                        </div>
<div class="line"><span class="lineno">  301</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  302</span>                        <a class="code hl_function" href="parser_8c.html#a22eab197bb540509ac901739ab3f02bc">vardef_outermost_while</a>(INT2FLOATS_2_DEFVAR, NULL, variable_counter);</div>
<div class="line"><span class="lineno">  303</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(INT2FLOATS_2, active-&gt;frame, NULL, variable_counter, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  304</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>                        variable_counter++;</div>
<div class="line"><span class="lineno">  307</span>                    }</div>
<div class="line"><span class="lineno">  308</span>                }</div>
<div class="line"><span class="lineno">  309</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp3-&gt;exp_type == CONST){</div>
<div class="line"><span class="lineno">  310</span>                <span class="keywordflow">if</span> (tmp1-&gt;exp_type == ID){</div>
<div class="line"><span class="lineno">  311</span>                    <span class="keywordflow">if</span>(tmp1-&gt;exp_value == DOUBLE || tmp1-&gt;exp_value == DOUBLE_QM){</div>
<div class="line"><span class="lineno">  312</span>                        </div>
<div class="line"><span class="lineno">  313</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  314</span>                        <a class="code hl_function" href="parser_8c.html#a22eab197bb540509ac901739ab3f02bc">vardef_outermost_while</a>(INT2FLOATS_2_DEFVAR, NULL, variable_counter);</div>
<div class="line"><span class="lineno">  315</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(INT2FLOATS_2, active-&gt;frame, NULL, variable_counter, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  316</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  317</span>                        </div>
<div class="line"><span class="lineno">  318</span>                        variable_counter++;</div>
<div class="line"><span class="lineno">  319</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  320</span>                        <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;ID type mismatch&quot;</span>);</div>
<div class="line"><span class="lineno">  321</span>                    }</div>
<div class="line"><span class="lineno">  322</span>                    </div>
<div class="line"><span class="lineno">  323</span>                }</div>
<div class="line"><span class="lineno">  324</span>                <span class="keywordflow">else</span>{</div>
<div class="line"><span class="lineno">  325</span>                    <span class="keywordflow">if</span> (tmp1-&gt;exp_value == STRING || tmp3-&gt;exp_value == STRING){</div>
<div class="line"><span class="lineno">  326</span>                        <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;This cannot participate in concatenation&quot;</span>);</div>
<div class="line"><span class="lineno">  327</span>                    }</div>
<div class="line"><span class="lineno">  328</span> </div>
<div class="line"><span class="lineno">  329</span>                    <span class="keywordflow">if</span> (tmp1-&gt;exp_value == INT || tmp1-&gt;exp_value == INT_QM){</div>
<div class="line"><span class="lineno">  330</span>                        </div>
<div class="line"><span class="lineno">  331</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  332</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(INT2FLOATS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  333</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  334</span> </div>
<div class="line"><span class="lineno">  335</span>                        tmp1-&gt;exp_value = DOUBLE;</div>
<div class="line"><span class="lineno">  336</span>                    }</div>
<div class="line"><span class="lineno">  337</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp3-&gt;exp_value == INT || tmp3-&gt;exp_value == INT_QM){</div>
<div class="line"><span class="lineno">  338</span>                        </div>
<div class="line"><span class="lineno">  339</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  340</span>                        <a class="code hl_function" href="parser_8c.html#a22eab197bb540509ac901739ab3f02bc">vardef_outermost_while</a>(INT2FLOATS_2_DEFVAR, NULL, variable_counter);</div>
<div class="line"><span class="lineno">  341</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(INT2FLOATS_2, active-&gt;frame, NULL, variable_counter, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  342</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  343</span>                        </div>
<div class="line"><span class="lineno">  344</span>                        variable_counter++;</div>
<div class="line"><span class="lineno">  345</span>                    }</div>
<div class="line"><span class="lineno">  346</span>                }</div>
<div class="line"><span class="lineno">  347</span>            }</div>
<div class="line"><span class="lineno">  348</span>            <span class="keywordflow">else</span>{  </div>
<div class="line"><span class="lineno">  349</span>                <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Can not sum 2 IDs of different types&quot;</span>);</div>
<div class="line"><span class="lineno">  350</span>            }</div>
<div class="line"><span class="lineno">  351</span>        }</div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>    <span class="comment">//Case for division</span></div>
<div class="line"><span class="lineno">  354</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(tmp2-&gt;type == TOKEN_DIVIDE){</div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span>        <span class="keywordflow">if</span>(tmp1-&gt;exp_value == NIL || tmp3-&gt;exp_value == NIL){</div>
<div class="line"><span class="lineno">  357</span>            <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Can not do arithmetic opeation with nils&quot;</span>);</div>
<div class="line"><span class="lineno">  358</span>        }</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span>        <span class="keywordflow">if</span>(tmp1-&gt;exp_value == BOOL || tmp3-&gt;exp_value == BOOL){</div>
<div class="line"><span class="lineno">  361</span>            <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Can not divide bool&quot;</span>);</div>
<div class="line"><span class="lineno">  362</span>        }</div>
<div class="line"><span class="lineno">  363</span> </div>
<div class="line"><span class="lineno">  364</span>        <span class="comment">//types are same</span></div>
<div class="line"><span class="lineno">  365</span>        <span class="keywordflow">if</span> (tmp1-&gt;exp_value == tmp3-&gt;exp_value){</div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>            <span class="keywordflow">if</span>((tmp1-&gt;exp_type == CONST &amp;&amp; tmp3-&gt;exp_type == ID) || (tmp1-&gt;exp_type == ID &amp;&amp; tmp3-&gt;exp_type == CONST)){</div>
<div class="line"><span class="lineno">  368</span>                tmp1-&gt;exp_type = ID;</div>
<div class="line"><span class="lineno">  369</span>            }</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>            <span class="keywordflow">if</span>((tmp1-&gt;value.integer == 0 &amp;&amp; tmp1-&gt;exp_value == INT &amp;&amp; tmp1-&gt;exp_type == CONST) || (tmp1-&gt;value.type_double == 0 &amp;&amp; tmp1-&gt;exp_value == DOUBLE &amp;&amp; tmp1-&gt;exp_type == CONST)){</div>
<div class="line"><span class="lineno">  372</span>                    <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_OTHER, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Division by zero&quot;</span>);</div>
<div class="line"><span class="lineno">  373</span>            }</div>
<div class="line"><span class="lineno">  374</span>            <span class="comment">//String can not be in division</span></div>
<div class="line"><span class="lineno">  375</span>            <span class="keywordflow">if</span>((tmp1-&gt;exp_value == STRING || tmp1-&gt;exp_value == STRING_QM) &amp;&amp; (tmp3-&gt;exp_value == STRING || tmp3-&gt;exp_value == STRING_QM)){</div>
<div class="line"><span class="lineno">  376</span>                <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Wrong operator in concatenation&quot;</span>);</div>
<div class="line"><span class="lineno">  377</span>            }</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>            <span class="keywordflow">if</span>((tmp1-&gt;exp_value == INT_QM &amp;&amp; tmp3-&gt;exp_value == INT_QM) || (tmp1-&gt;exp_value == DOUBLE_QM &amp;&amp; tmp3-&gt;exp_value == DOUBLE_QM) || (tmp1-&gt;exp_value == STRING_QM &amp;&amp; tmp3-&gt;exp_value == STRING_QM)){</div>
<div class="line"><span class="lineno">  380</span>                <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Can not do operation with 2 QM types without ! them&quot;</span>);</div>
<div class="line"><span class="lineno">  381</span>            }</div>
<div class="line"><span class="lineno">  382</span> </div>
<div class="line"><span class="lineno">  383</span>            <span class="comment">//Tokens are integers, it is gonna be IDIV</span></div>
<div class="line"><span class="lineno">  384</span>            <span class="keywordflow">if</span>(tmp1-&gt;exp_value == INT){</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>                <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  387</span>                <a class="code hl_function" href="parser_8c.html#a22eab197bb540509ac901739ab3f02bc">vardef_outermost_while</a>(IDIV_ZERO_DEFVAR, NULL, variable_counter);</div>
<div class="line"><span class="lineno">  388</span>                <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst_zero = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(IDIV_BY_ZERO, active-&gt;frame, <span class="stringliteral">&quot;idiv_zero_&quot;</span>, variable_counter, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  389</span>                <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst_zero);</div>
<div class="line"><span class="lineno">  390</span>                <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(IDIVS, <span class="charliteral">&#39;G&#39;</span>, NULL, variable_counter, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  391</span>                <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  392</span>                </div>
<div class="line"><span class="lineno">  393</span>                variable_counter++;</div>
<div class="line"><span class="lineno">  394</span>            <span class="comment">//Tokens are floats, it is gonna be div</span></div>
<div class="line"><span class="lineno">  395</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  396</span>                </div>
<div class="line"><span class="lineno">  397</span>                <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  398</span>                <a class="code hl_function" href="parser_8c.html#a22eab197bb540509ac901739ab3f02bc">vardef_outermost_while</a>(DIV_ZERO_DEFVAR, NULL, variable_counter);</div>
<div class="line"><span class="lineno">  399</span>                <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst_zero = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(DIV_BY_ZERO, active-&gt;frame, <span class="stringliteral">&quot;div_zero_&quot;</span>, variable_counter, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  400</span>                <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst_zero);</div>
<div class="line"><span class="lineno">  401</span>                <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(DIVS, <span class="charliteral">&#39;G&#39;</span>, NULL, variable_counter, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  402</span>                <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  403</span> </div>
<div class="line"><span class="lineno">  404</span>                variable_counter++;</div>
<div class="line"><span class="lineno">  405</span> </div>
<div class="line"><span class="lineno">  406</span>                tmp1-&gt;exp_value = DOUBLE;</div>
<div class="line"><span class="lineno">  407</span>            }</div>
<div class="line"><span class="lineno">  408</span> </div>
<div class="line"><span class="lineno">  409</span>        <span class="comment">//types are not same in division</span></div>
<div class="line"><span class="lineno">  410</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  411</span>            <span class="keywordflow">if</span> (tmp1-&gt;exp_type == CONST){</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span>                <span class="keywordflow">if</span>((tmp1-&gt;value.integer == 0 &amp;&amp; tmp1-&gt;exp_value == INT) || (tmp1-&gt;value.type_double == 0 &amp;&amp; tmp1-&gt;exp_value == DOUBLE)){</div>
<div class="line"><span class="lineno">  414</span>                    <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_OTHER, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Division by zero&quot;</span>);</div>
<div class="line"><span class="lineno">  415</span>                }</div>
<div class="line"><span class="lineno">  416</span> </div>
<div class="line"><span class="lineno">  417</span>                <span class="keywordflow">if</span> (tmp3-&gt;exp_type == ID){</div>
<div class="line"><span class="lineno">  418</span>                    <span class="keywordflow">if</span>(tmp3-&gt;exp_value == DOUBLE){</div>
<div class="line"><span class="lineno">  419</span> </div>
<div class="line"><span class="lineno">  420</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  421</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(INT2FLOATS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  422</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  423</span> </div>
<div class="line"><span class="lineno">  424</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  425</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst1 = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(DIVS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  426</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst1);</div>
<div class="line"><span class="lineno">  427</span> </div>
<div class="line"><span class="lineno">  428</span>                        tmp1-&gt;exp_value = DOUBLE;</div>
<div class="line"><span class="lineno">  429</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  430</span>                        <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;ID type mismatch&quot;</span>);</div>
<div class="line"><span class="lineno">  431</span>                    }</div>
<div class="line"><span class="lineno">  432</span>                } <span class="keywordflow">else</span>{</div>
<div class="line"><span class="lineno">  433</span>                    <span class="keywordflow">if</span> (tmp1-&gt;exp_value == STRING || tmp3-&gt;exp_value == STRING){</div>
<div class="line"><span class="lineno">  434</span>                        <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;This cannot participate in concatenation&quot;</span>);</div>
<div class="line"><span class="lineno">  435</span>                    }</div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span>                    <span class="keywordflow">if</span> (tmp1-&gt;exp_value == INT){</div>
<div class="line"><span class="lineno">  438</span> </div>
<div class="line"><span class="lineno">  439</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  440</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(INT2FLOATS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  441</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  442</span> </div>
<div class="line"><span class="lineno">  443</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  444</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst1 = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(DIVS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  445</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst1);</div>
<div class="line"><span class="lineno">  446</span> </div>
<div class="line"><span class="lineno">  447</span>                        tmp1-&gt;exp_value = DOUBLE;</div>
<div class="line"><span class="lineno">  448</span>                    }</div>
<div class="line"><span class="lineno">  449</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp3-&gt;exp_value == INT){</div>
<div class="line"><span class="lineno">  450</span>                      </div>
<div class="line"><span class="lineno">  451</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  452</span>                        <a class="code hl_function" href="parser_8c.html#a22eab197bb540509ac901739ab3f02bc">vardef_outermost_while</a>(INT2FLOATS_2_DEFVAR, NULL, variable_counter);</div>
<div class="line"><span class="lineno">  453</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(INT2FLOATS_2, active-&gt;frame, NULL, variable_counter, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  454</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  457</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst1 = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(DIVS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  458</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst1);</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>                        variable_counter++;</div>
<div class="line"><span class="lineno">  461</span>                    }</div>
<div class="line"><span class="lineno">  462</span>                }</div>
<div class="line"><span class="lineno">  463</span>            }</div>
<div class="line"><span class="lineno">  464</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp3-&gt;exp_type == CONST){</div>
<div class="line"><span class="lineno">  465</span>                <span class="keywordflow">if</span> (tmp1-&gt;exp_type == ID){</div>
<div class="line"><span class="lineno">  466</span>                    <span class="keywordflow">if</span>(tmp1-&gt;exp_value == DOUBLE){</div>
<div class="line"><span class="lineno">  467</span>                        </div>
<div class="line"><span class="lineno">  468</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  469</span>                        <a class="code hl_function" href="parser_8c.html#a22eab197bb540509ac901739ab3f02bc">vardef_outermost_while</a>(INT2FLOATS_2_DEFVAR, NULL, variable_counter);</div>
<div class="line"><span class="lineno">  470</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(INT2FLOATS_2, active-&gt;frame, NULL, variable_counter, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  471</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  474</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst1 = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(DIVS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  475</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst1);</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>                        variable_counter++;</div>
<div class="line"><span class="lineno">  478</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  479</span>                        <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;ID type mismatch&quot;</span>);</div>
<div class="line"><span class="lineno">  480</span>                    }</div>
<div class="line"><span class="lineno">  481</span>                }</div>
<div class="line"><span class="lineno">  482</span>                <span class="keywordflow">else</span>{</div>
<div class="line"><span class="lineno">  483</span>                    <span class="keywordflow">if</span> (tmp1-&gt;exp_value == STRING || tmp3-&gt;exp_value == STRING){</div>
<div class="line"><span class="lineno">  484</span>                        <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;This cannot participate in concatenation&quot;</span>);</div>
<div class="line"><span class="lineno">  485</span>                    }</div>
<div class="line"><span class="lineno">  486</span> </div>
<div class="line"><span class="lineno">  487</span>                    <span class="keywordflow">if</span> (tmp1-&gt;exp_value == INT){</div>
<div class="line"><span class="lineno">  488</span>                        </div>
<div class="line"><span class="lineno">  489</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  490</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(INT2FLOATS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  491</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  492</span> </div>
<div class="line"><span class="lineno">  493</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  494</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst1 = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(DIVS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  495</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst1);</div>
<div class="line"><span class="lineno">  496</span> </div>
<div class="line"><span class="lineno">  497</span>                        tmp1-&gt;exp_value = DOUBLE;</div>
<div class="line"><span class="lineno">  498</span>                    }</div>
<div class="line"><span class="lineno">  499</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp3-&gt;exp_value == INT){</div>
<div class="line"><span class="lineno">  500</span> </div>
<div class="line"><span class="lineno">  501</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  502</span>                        <a class="code hl_function" href="parser_8c.html#a22eab197bb540509ac901739ab3f02bc">vardef_outermost_while</a>(INT2FLOATS_2_DEFVAR, NULL, variable_counter);</div>
<div class="line"><span class="lineno">  503</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(INT2FLOATS_2, active-&gt;frame, NULL, variable_counter, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  504</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  505</span> </div>
<div class="line"><span class="lineno">  506</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  507</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst1 = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(DIVS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  508</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst1);</div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span>                        variable_counter++;</div>
<div class="line"><span class="lineno">  511</span>                    }</div>
<div class="line"><span class="lineno">  512</span>                }</div>
<div class="line"><span class="lineno">  513</span>            }</div>
<div class="line"><span class="lineno">  514</span>            <span class="keywordflow">else</span>{</div>
<div class="line"><span class="lineno">  515</span>                <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Can not divide 2 IDs of different types&quot;</span>);</div>
<div class="line"><span class="lineno">  516</span>            }</div>
<div class="line"><span class="lineno">  517</span>        }</div>
<div class="line"><span class="lineno">  518</span> </div>
<div class="line"><span class="lineno">  519</span>    <span class="comment">//Relational operators</span></div>
<div class="line"><span class="lineno">  520</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(tmp2-&gt;type == TOKEN_EQEQ || tmp2-&gt;type == TOKEN_EXCLAMEQ || tmp2-&gt;type == TOKEN_LESS || tmp2-&gt;type == TOKEN_LESS_EQ || tmp2-&gt;type == TOKEN_GREAT || tmp2-&gt;type == TOKEN_GREAT_EQ){</div>
<div class="line"><span class="lineno">  521</span> </div>
<div class="line"><span class="lineno">  522</span>        <span class="keywordflow">if</span>(tmp2-&gt;type == TOKEN_LESS || tmp2-&gt;type == TOKEN_LESS_EQ || tmp2-&gt;type == TOKEN_GREAT || tmp2-&gt;type == TOKEN_GREAT_EQ){</div>
<div class="line"><span class="lineno">  523</span>            <span class="comment">//Nillable types cannot be in &lt;, &gt;, &lt;=, &gt;=</span></div>
<div class="line"><span class="lineno">  524</span>            <span class="keywordflow">if</span>((tmp1-&gt;exp_value == INT_QM || tmp3-&gt;exp_value == INT_QM || tmp1-&gt;exp_value == DOUBLE_QM || tmp3-&gt;exp_value == DOUBLE_QM || tmp1-&gt;exp_value == STRING_QM || tmp3-&gt;exp_value == STRING_QM)){</div>
<div class="line"><span class="lineno">  525</span>                <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Can not do operation with 2 QM types without ! them&quot;</span>);</div>
<div class="line"><span class="lineno">  526</span>        </div>
<div class="line"><span class="lineno">  527</span>            }</div>
<div class="line"><span class="lineno">  528</span>            <span class="comment">//Nil constant cannot be in &lt;, &gt;, &lt;=, &gt;=</span></div>
<div class="line"><span class="lineno">  529</span>            <span class="keywordflow">if</span>(tmp1-&gt;exp_value == NIL || tmp3-&gt;exp_value == NIL){</div>
<div class="line"><span class="lineno">  530</span>                <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Can not compare with nill constant&quot;</span>);</div>
<div class="line"><span class="lineno">  531</span>            }</div>
<div class="line"><span class="lineno">  532</span>        }</div>
<div class="line"><span class="lineno">  533</span>        <span class="keywordflow">if</span>(tmp2-&gt;type == TOKEN_EQEQ || tmp2-&gt;type == TOKEN_EXCLAMEQ){</div>
<div class="line"><span class="lineno">  534</span>            <span class="comment">//If one of the operands is nil constant the other one has to be nillable or nil</span></div>
<div class="line"><span class="lineno">  535</span>            <span class="keywordflow">if</span>(tmp1-&gt;exp_value == NIL){</div>
<div class="line"><span class="lineno">  536</span>                <span class="keywordflow">if</span>(tmp3-&gt;exp_value == INT_QM){</div>
<div class="line"><span class="lineno">  537</span>                    tmp1-&gt;exp_value = BOOL;</div>
<div class="line"><span class="lineno">  538</span>                    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  539</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(tmp3-&gt;exp_value == DOUBLE_QM){</div>
<div class="line"><span class="lineno">  540</span>                    tmp1-&gt;exp_value = BOOL;</div>
<div class="line"><span class="lineno">  541</span>                    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  542</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(tmp3-&gt;exp_value == STRING_QM){</div>
<div class="line"><span class="lineno">  543</span>                    tmp1-&gt;exp_value = BOOL;</div>
<div class="line"><span class="lineno">  544</span>                    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  545</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(tmp3-&gt;exp_value == NIL){</div>
<div class="line"><span class="lineno">  546</span>                    tmp1-&gt;exp_value = BOOL;</div>
<div class="line"><span class="lineno">  547</span>                    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  548</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  549</span>                    <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Can not do eq with non QM types&quot;</span>);</div>
<div class="line"><span class="lineno">  550</span>                }</div>
<div class="line"><span class="lineno">  551</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(tmp3-&gt;exp_value == NIL){</div>
<div class="line"><span class="lineno">  552</span>                <span class="keywordflow">if</span>(tmp1-&gt;exp_value == INT_QM){</div>
<div class="line"><span class="lineno">  553</span>                    tmp1-&gt;exp_value = BOOL;</div>
<div class="line"><span class="lineno">  554</span>                    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  555</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(tmp1-&gt;exp_value == DOUBLE_QM){</div>
<div class="line"><span class="lineno">  556</span>                    tmp1-&gt;exp_value = BOOL;</div>
<div class="line"><span class="lineno">  557</span>                    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  558</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(tmp1-&gt;exp_value == STRING_QM){</div>
<div class="line"><span class="lineno">  559</span>                    tmp1-&gt;exp_value = BOOL;</div>
<div class="line"><span class="lineno">  560</span>                    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  561</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(tmp1-&gt;exp_value == NIL){</div>
<div class="line"><span class="lineno">  562</span>                    tmp1-&gt;exp_value = BOOL;</div>
<div class="line"><span class="lineno">  563</span>                    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  564</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  565</span>                    <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Can not do eq with non QM types&quot;</span>);</div>
<div class="line"><span class="lineno">  566</span>                }</div>
<div class="line"><span class="lineno">  567</span>            }</div>
<div class="line"><span class="lineno">  568</span>            <span class="comment">//Converts nillable types to nonnillable because they can be in expression with == or !=</span></div>
<div class="line"><span class="lineno">  569</span>            <a class="code hl_function" href="expression__parser_8c.html#a4489a4057d93d4bd83ae3d62820c2522">convert_qm</a>(tmp1);</div>
<div class="line"><span class="lineno">  570</span>            <a class="code hl_function" href="expression__parser_8c.html#a4489a4057d93d4bd83ae3d62820c2522">convert_qm</a>(tmp3);</div>
<div class="line"><span class="lineno">  571</span>        }</div>
<div class="line"><span class="lineno">  572</span> </div>
<div class="line"><span class="lineno">  573</span>        <span class="comment">//Types are equal, value of expression is bool</span></div>
<div class="line"><span class="lineno">  574</span>        <span class="keywordflow">if</span>(tmp1-&gt;exp_value == tmp3-&gt;exp_value){</div>
<div class="line"><span class="lineno">  575</span>            tmp1-&gt;exp_value = BOOL;</div>
<div class="line"><span class="lineno">  576</span>        </div>
<div class="line"><span class="lineno">  577</span>        <span class="comment">//Not a match, conversion if possible</span></div>
<div class="line"><span class="lineno">  578</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  579</span>            <span class="keywordflow">if</span> (tmp1-&gt;exp_type == CONST){</div>
<div class="line"><span class="lineno">  580</span>                <span class="keywordflow">if</span> (tmp3-&gt;exp_type == ID){</div>
<div class="line"><span class="lineno">  581</span>                    <span class="keywordflow">if</span>(tmp3-&gt;exp_value == DOUBLE &amp;&amp; tmp1-&gt;exp_value == INT){</div>
<div class="line"><span class="lineno">  582</span>                        </div>
<div class="line"><span class="lineno">  583</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  584</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(INT2FLOATS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  585</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  586</span> </div>
<div class="line"><span class="lineno">  587</span>                        tmp1-&gt;exp_value = BOOL;</div>
<div class="line"><span class="lineno">  588</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  589</span>                        <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Can not compare 2 values of different types&quot;</span>);</div>
<div class="line"><span class="lineno">  590</span>                    }</div>
<div class="line"><span class="lineno">  591</span>                } <span class="keywordflow">else</span>{</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>                    <span class="keywordflow">if</span> (tmp1-&gt;exp_value == INT &amp;&amp; tmp3-&gt;exp_value == DOUBLE){</div>
<div class="line"><span class="lineno">  594</span> </div>
<div class="line"><span class="lineno">  595</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  596</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(INT2FLOATS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  597</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>                        tmp1-&gt;exp_value = BOOL;</div>
<div class="line"><span class="lineno">  600</span>                    }</div>
<div class="line"><span class="lineno">  601</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp3-&gt;exp_value == INT &amp;&amp; tmp1-&gt;exp_value == DOUBLE){</div>
<div class="line"><span class="lineno">  602</span>                        </div>
<div class="line"><span class="lineno">  603</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  604</span>                        <a class="code hl_function" href="parser_8c.html#a22eab197bb540509ac901739ab3f02bc">vardef_outermost_while</a>(INT2FLOATS_2_DEFVAR, NULL, variable_counter);</div>
<div class="line"><span class="lineno">  605</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(INT2FLOATS_2, active-&gt;frame, NULL, variable_counter, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  606</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  607</span>                        </div>
<div class="line"><span class="lineno">  608</span>                        tmp1-&gt;exp_value = BOOL;</div>
<div class="line"><span class="lineno">  609</span>                        variable_counter++;</div>
<div class="line"><span class="lineno">  610</span>                    }</div>
<div class="line"><span class="lineno">  611</span>                }</div>
<div class="line"><span class="lineno">  612</span>            }</div>
<div class="line"><span class="lineno">  613</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp3-&gt;exp_type == CONST){</div>
<div class="line"><span class="lineno">  614</span>                <span class="keywordflow">if</span> (tmp1-&gt;exp_type == ID){</div>
<div class="line"><span class="lineno">  615</span>                    <span class="keywordflow">if</span>(tmp1-&gt;exp_value == DOUBLE &amp;&amp; tmp3-&gt;exp_value == INT){</div>
<div class="line"><span class="lineno">  616</span>                        </div>
<div class="line"><span class="lineno">  617</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  618</span>                        <a class="code hl_function" href="parser_8c.html#a22eab197bb540509ac901739ab3f02bc">vardef_outermost_while</a>(INT2FLOATS_2_DEFVAR, NULL, variable_counter);</div>
<div class="line"><span class="lineno">  619</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(INT2FLOATS_2, active-&gt;frame, NULL, variable_counter, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  620</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  621</span>                        </div>
<div class="line"><span class="lineno">  622</span>                        tmp1-&gt;exp_value = BOOL;</div>
<div class="line"><span class="lineno">  623</span>                        variable_counter++;</div>
<div class="line"><span class="lineno">  624</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  625</span>                        <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Can not compare 2 values of different types&quot;</span>);</div>
<div class="line"><span class="lineno">  626</span>                    }</div>
<div class="line"><span class="lineno">  627</span>                }</div>
<div class="line"><span class="lineno">  628</span>                <span class="keywordflow">else</span>{</div>
<div class="line"><span class="lineno">  629</span>                    <span class="keywordflow">if</span> (tmp1-&gt;exp_value == INT &amp;&amp; tmp3-&gt;exp_value == DOUBLE){</div>
<div class="line"><span class="lineno">  630</span>                        </div>
<div class="line"><span class="lineno">  631</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  632</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(INT2FLOATS, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  633</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  634</span>                        </div>
<div class="line"><span class="lineno">  635</span>                        tmp1-&gt;exp_value = BOOL;</div>
<div class="line"><span class="lineno">  636</span>                    }</div>
<div class="line"><span class="lineno">  637</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp3-&gt;exp_value == INT &amp;&amp; tmp1-&gt;exp_value == DOUBLE){</div>
<div class="line"><span class="lineno">  638</span>                        </div>
<div class="line"><span class="lineno">  639</span>                        <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  640</span>                        <a class="code hl_function" href="parser_8c.html#a22eab197bb540509ac901739ab3f02bc">vardef_outermost_while</a>(INT2FLOATS_2_DEFVAR, NULL, variable_counter);</div>
<div class="line"><span class="lineno">  641</span>                        <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(INT2FLOATS_2, active-&gt;frame, NULL, variable_counter, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  642</span>                        <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  643</span>                        </div>
<div class="line"><span class="lineno">  644</span>                        tmp1-&gt;exp_value = BOOL;</div>
<div class="line"><span class="lineno">  645</span>                        variable_counter++;</div>
<div class="line"><span class="lineno">  646</span>                    }</div>
<div class="line"><span class="lineno">  647</span>                }</div>
<div class="line"><span class="lineno">  648</span>            }</div>
<div class="line"><span class="lineno">  649</span>            <span class="keywordflow">else</span>{</div>
<div class="line"><span class="lineno">  650</span>                <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SEM_EXPR_TYPE, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Can not compare 2 values of different types&quot;</span>);</div>
<div class="line"><span class="lineno">  651</span>            }</div>
<div class="line"><span class="lineno">  652</span>        }</div>
<div class="line"><span class="lineno">  653</span>    }</div>
<div class="line"><span class="lineno">  654</span>    </div>
<div class="line"><span class="lineno">  655</span>}</div>
<div class="ttc" id="aexpression__parser_8c_html_a4489a4057d93d4bd83ae3d62820c2522"><div class="ttname"><a href="expression__parser_8c.html#a4489a4057d93d4bd83ae3d62820c2522">convert_qm</a></div><div class="ttdeci">void convert_qm(token_t *tmp1)</div><div class="ttdoc">Converts QM token types to non qm token types.</div><div class="ttdef"><b>Definition</b> <a href="expression__parser_8c_source.html#l00215">expression_parser.c:215</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa543cf70a00956bcae4bfd38338019f9" name="aa543cf70a00956bcae4bfd38338019f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa543cf70a00956bcae4bfd38338019f9">&#9670;&#160;</a></span>convert_qm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void convert_qm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="scanner_8h.html#afca089a78950c6e3e420d0e666899390">token_t</a> *&#160;</td>
          <td class="paramname"><em>token1</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts QM token types to non qm token types. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmp1</td><td>Pointer to the token to be converted </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="expression__parser_8c_source.html#l00215">215</a> of file <a class="el" href="expression__parser_8c_source.html">expression_parser.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  215</span>                              {</div>
<div class="line"><span class="lineno">  216</span>    <span class="keywordflow">if</span>(tmp1-&gt;exp_value == INT_QM){</div>
<div class="line"><span class="lineno">  217</span>        tmp1-&gt;exp_value = INT;</div>
<div class="line"><span class="lineno">  218</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(tmp1-&gt;exp_value == DOUBLE_QM){</div>
<div class="line"><span class="lineno">  219</span>        tmp1-&gt;exp_value = DOUBLE;</div>
<div class="line"><span class="lineno">  220</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(tmp1-&gt;exp_value == STRING_QM){</div>
<div class="line"><span class="lineno">  221</span>        tmp1-&gt;exp_value = STRING;</div>
<div class="line"><span class="lineno">  222</span>    }</div>
<div class="line"><span class="lineno">  223</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad736ee1e72b14115057e6ad07188a7b9" name="ad736ee1e72b14115057e6ad07188a7b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad736ee1e72b14115057e6ad07188a7b9">&#9670;&#160;</a></span>find_reduce_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">expression_rules_t find_reduce_rule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="scanner_8h.html#afca089a78950c6e3e420d0e666899390">token_t</a> *&#160;</td>
          <td class="paramname"><em>token1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="scanner_8h.html#afca089a78950c6e3e420d0e666899390">token_t</a> *&#160;</td>
          <td class="paramname"><em>token2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="scanner_8h.html#afca089a78950c6e3e420d0e666899390">token_t</a> *&#160;</td>
          <td class="paramname"><em>token3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>number_of_tokens</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to find appropriate rule for reducing expressions on stack. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">token1</td><td>Pointer to the token on top of the stack </td></tr>
    <tr><td class="paramname">token2</td><td>Pointer to the 2nd token </td></tr>
    <tr><td class="paramname">token3</td><td>Pointer to the 3rd token </td></tr>
    <tr><td class="paramname">number_of_tokens</td><td>Number of tokens for which the rule should be found </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>expression_rules_t Type of rule to be applied </dd></dl>

<p class="definition">Definition at line <a class="el" href="expression__parser_8c_source.html#l00158">158</a> of file <a class="el" href="expression__parser_8c_source.html">expression_parser.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  158</span>                                                                                                            {</div>
<div class="line"><span class="lineno">  159</span>    <span class="keywordflow">switch</span> (number_of_tokens)</div>
<div class="line"><span class="lineno">  160</span>    {</div>
<div class="line"><span class="lineno">  161</span>    <span class="keywordflow">case</span> 1: <span class="comment">//E-&gt;i</span></div>
<div class="line"><span class="lineno">  162</span>        <span class="keywordflow">return</span> RULE_OPERAND;</div>
<div class="line"><span class="lineno">  163</span> </div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">case</span> 2: <span class="comment">//E-&gt;E!</span></div>
<div class="line"><span class="lineno">  165</span>        <span class="keywordflow">if</span>(token1-&gt;type == TOKEN_EXCLAM &amp;&amp; token2-&gt;type == TOKEN_EXPRESSION){</div>
<div class="line"><span class="lineno">  166</span>            <span class="keywordflow">return</span> RULE_EXCL;</div>
<div class="line"><span class="lineno">  167</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  168</span>            <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SYN, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Wrong operator&quot;</span>);</div>
<div class="line"><span class="lineno">  169</span>        }</div>
<div class="line"><span class="lineno">  170</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  171</span>    <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>        <span class="keywordflow">if</span>(token1-&gt;type == TOKEN_RPAR &amp;&amp; token3-&gt;type == TOKEN_LPAR){</div>
<div class="line"><span class="lineno">  174</span>            <span class="keywordflow">return</span> RULE_PAR; <span class="comment">//E-&gt;(E)</span></div>
<div class="line"><span class="lineno">  175</span>        }</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>        <span class="keywordflow">switch</span> (token2-&gt;type) <span class="comment">//Rule found via operator in token2</span></div>
<div class="line"><span class="lineno">  178</span>        {</div>
<div class="line"><span class="lineno">  179</span>        <span class="keywordflow">case</span> TOKEN_PLUS:</div>
<div class="line"><span class="lineno">  180</span>            <span class="keywordflow">return</span> RULE_ADD;</div>
<div class="line"><span class="lineno">  181</span>        <span class="keywordflow">case</span> TOKEN_MULTIPLY:</div>
<div class="line"><span class="lineno">  182</span>            <span class="keywordflow">return</span> RULE_MUL;</div>
<div class="line"><span class="lineno">  183</span>        <span class="keywordflow">case</span> TOKEN_MINUS:</div>
<div class="line"><span class="lineno">  184</span>            <span class="keywordflow">return</span> RULE_SUB;</div>
<div class="line"><span class="lineno">  185</span>        <span class="keywordflow">case</span> TOKEN_DIVIDE:</div>
<div class="line"><span class="lineno">  186</span>            <span class="keywordflow">return</span> RULE_DIV;</div>
<div class="line"><span class="lineno">  187</span>        <span class="keywordflow">case</span> TOKEN_LESS:</div>
<div class="line"><span class="lineno">  188</span>            <span class="keywordflow">return</span> RULE_LESS;</div>
<div class="line"><span class="lineno">  189</span>        <span class="keywordflow">case</span> TOKEN_LESS_EQ:</div>
<div class="line"><span class="lineno">  190</span>            <span class="keywordflow">return</span> RULE_LEQ;</div>
<div class="line"><span class="lineno">  191</span>        <span class="keywordflow">case</span> TOKEN_GREAT:</div>
<div class="line"><span class="lineno">  192</span>            <span class="keywordflow">return</span> RULE_GTR;   </div>
<div class="line"><span class="lineno">  193</span>        <span class="keywordflow">case</span> TOKEN_GREAT_EQ:</div>
<div class="line"><span class="lineno">  194</span>            <span class="keywordflow">return</span> RULE_GEQ;       </div>
<div class="line"><span class="lineno">  195</span>        <span class="keywordflow">case</span> TOKEN_EQEQ:</div>
<div class="line"><span class="lineno">  196</span>            <span class="keywordflow">return</span> RULE_EQ;    </div>
<div class="line"><span class="lineno">  197</span>        <span class="keywordflow">case</span> TOKEN_EXCLAMEQ:</div>
<div class="line"><span class="lineno">  198</span>            <span class="keywordflow">return</span> RULE_NEQ;  </div>
<div class="line"><span class="lineno">  199</span>        <span class="keywordflow">case</span> TOKEN_DOUBLE_QM:</div>
<div class="line"><span class="lineno">  200</span>            <span class="keywordflow">return</span> RULE_QMS;  </div>
<div class="line"><span class="lineno">  201</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  202</span>            <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SYN, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Wrong operator&quot;</span>);</div>
<div class="line"><span class="lineno">  203</span>            <span class="keywordflow">return</span> NOT_RULE;</div>
<div class="line"><span class="lineno">  204</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  205</span>        }</div>
<div class="line"><span class="lineno">  206</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  207</span>        <a class="code hl_function" href="error_8c.html#a2f6658959c571cea3d1d03dc785a7e9a">error_exit</a>(ERROR_SYN, <span class="stringliteral">&quot;EXPRESSION PARSER&quot;</span>, <span class="stringliteral">&quot;Rule does not exist&quot;</span>);</div>
<div class="line"><span class="lineno">  208</span>        <span class="keywordflow">return</span> NOT_RULE;</div>
<div class="line"><span class="lineno">  209</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  210</span>    }</div>
<div class="line"><span class="lineno">  211</span>    <span class="keywordflow">return</span> NOT_RULE;</div>
<div class="line"><span class="lineno">  212</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac66a178aa09460dc7c0f17aad9e583e9" name="ac66a178aa09460dc7c0f17aad9e583e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac66a178aa09460dc7c0f17aad9e583e9">&#9670;&#160;</a></span>get_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="scanner_8h.html#aef7a4af0d3dea9771fdd6eee9c5cabf2">token_type_t</a>&#160;</td>
          <td class="paramname"><em>token</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the index of token from precedence table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">token</td><td>Type of token </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int index of token in precedence table </dd></dl>

<p class="definition">Definition at line <a class="el" href="expression__parser_8c_source.html#l00054">54</a> of file <a class="el" href="expression__parser_8c_source.html">expression_parser.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   54</span>                                 {</div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span>    <span class="keywordflow">switch</span>(<a class="code hl_struct" href="structtoken.html">token</a>){</div>
<div class="line"><span class="lineno">   57</span> </div>
<div class="line"><span class="lineno">   58</span>        <span class="keywordflow">case</span> TOKEN_PLUS:</div>
<div class="line"><span class="lineno">   59</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   60</span> </div>
<div class="line"><span class="lineno">   61</span>        <span class="keywordflow">case</span> TOKEN_MINUS:</div>
<div class="line"><span class="lineno">   62</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span>        <span class="keywordflow">case</span> TOKEN_MULTIPLY:</div>
<div class="line"><span class="lineno">   65</span>        <span class="keywordflow">return</span> 2;</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>        <span class="keywordflow">case</span> TOKEN_DIVIDE:  </div>
<div class="line"><span class="lineno">   68</span>        <span class="keywordflow">return</span> 3;</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>        <span class="keywordflow">case</span> TOKEN_LESS:</div>
<div class="line"><span class="lineno">   71</span>        <span class="keywordflow">return</span> 4;</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>        <span class="keywordflow">case</span> TOKEN_GREAT:</div>
<div class="line"><span class="lineno">   74</span>        <span class="keywordflow">return</span> 5;</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>        <span class="keywordflow">case</span> TOKEN_LESS_EQ:</div>
<div class="line"><span class="lineno">   77</span>        <span class="keywordflow">return</span> 6;</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>        <span class="keywordflow">case</span> TOKEN_GREAT_EQ:</div>
<div class="line"><span class="lineno">   80</span>        <span class="keywordflow">return</span> 7;</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>        <span class="keywordflow">case</span> TOKEN_EXCLAMEQ:</div>
<div class="line"><span class="lineno">   83</span>        <span class="keywordflow">return</span> 8;</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>        <span class="keywordflow">case</span> TOKEN_EQEQ:</div>
<div class="line"><span class="lineno">   86</span>        <span class="keywordflow">return</span> 9;</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>        <span class="keywordflow">case</span> TOKEN_EXCLAM:</div>
<div class="line"><span class="lineno">   89</span>        <span class="keywordflow">return</span> 10;</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>        <span class="keywordflow">case</span> TOKEN_DOUBLE_QM:</div>
<div class="line"><span class="lineno">   92</span>        <span class="keywordflow">return</span> 11;</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>        <span class="keywordflow">case</span> TOKEN_LPAR:</div>
<div class="line"><span class="lineno">   95</span>        <span class="keywordflow">return</span> 12;</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>        <span class="keywordflow">case</span> TOKEN_RPAR:</div>
<div class="line"><span class="lineno">   98</span>        <span class="keywordflow">return</span> 13;</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>        <span class="keywordflow">case</span> TOKEN_ID:</div>
<div class="line"><span class="lineno">  101</span>        <span class="keywordflow">return</span> 14;</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>        <span class="keywordflow">case</span> TOKEN_KEYWORD:</div>
<div class="line"><span class="lineno">  104</span>        <span class="keywordflow">return</span> 14;</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>        <span class="keywordflow">case</span> TOKEN_NUM:</div>
<div class="line"><span class="lineno">  107</span>        <span class="keywordflow">return</span> 14;</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>        <span class="keywordflow">case</span> TOKEN_DEC:</div>
<div class="line"><span class="lineno">  110</span>        <span class="keywordflow">return</span> 14;</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>        <span class="keywordflow">case</span> TOKEN_EXP:</div>
<div class="line"><span class="lineno">  113</span>        <span class="keywordflow">return</span> 14;</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>        <span class="keywordflow">case</span> TOKEN_STRING:</div>
<div class="line"><span class="lineno">  116</span>        <span class="keywordflow">return</span> 14;</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>        <span class="keywordflow">case</span> TOKEN_ML_STRING:</div>
<div class="line"><span class="lineno">  119</span>        <span class="keywordflow">return</span> 14;</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>        <span class="keywordflow">case</span> TOKEN_DOLLAR:</div>
<div class="line"><span class="lineno">  122</span>        <span class="keywordflow">return</span> 15;</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  125</span>        <span class="keywordflow">return</span> 15;</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>    }</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d1056ec10ae7b664a990158f51616ea" name="a0d1056ec10ae7b664a990158f51616ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d1056ec10ae7b664a990158f51616ea">&#9670;&#160;</a></span>push_for_leq_geq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void push_for_leq_geq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="scanner_8h.html#afca089a78950c6e3e420d0e666899390">token_t</a> *&#160;</td>
          <td class="paramname"><em>token1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="scanner_8h.html#afca089a78950c6e3e420d0e666899390">token_t</a> *&#160;</td>
          <td class="paramname"><em>token2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints specific tokens for operators Lequal and Gequal to stdout in IFJcode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">token1</td><td>Pointer to first token to be printed </td></tr>
    <tr><td class="paramname">token2</td><td>Pointer to second token to be printed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="expression__parser_8c_source.html#l00658">658</a> of file <a class="el" href="expression__parser_8c_source.html">expression_parser.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  658</span>                                                   {</div>
<div class="line"><span class="lineno">  659</span>    <span class="keywordflow">if</span> (tmp3-&gt;exp_type == CONST){</div>
<div class="line"><span class="lineno">  660</span>        <span class="keywordflow">if</span> (tmp3-&gt;exp_value == INT){                                    </div>
<div class="line"><span class="lineno">  661</span>            <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  662</span>            <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(PUSHS_INT_CONST, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, tmp3-&gt;value.integer, 0.0, NULL);</div>
<div class="line"><span class="lineno">  663</span>            <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  664</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp3-&gt;exp_value == DOUBLE){</div>
<div class="line"><span class="lineno">  665</span>            <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  666</span>            <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(PUSHS_FLOAT_CONST, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, tmp3-&gt;value.type_double, NULL);</div>
<div class="line"><span class="lineno">  667</span>            <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  668</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp3-&gt;exp_value == STRING){</div>
<div class="line"><span class="lineno">  669</span>            <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  670</span>            <span class="keywordtype">char</span> *<span class="keywordtype">string</span> = <a class="code hl_function" href="error_8c.html#a08672f1381d39b459aa779748bf40143">allocate_memory</a>(strlen(tmp3-&gt;value.vector-&gt;array)+1); <span class="comment">// new memory has to be allocated for string</span></div>
<div class="line"><span class="lineno">  671</span>            <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(PUSHS_STRING_CONST, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, strcpy(<span class="keywordtype">string</span>, tmp3-&gt;value.vector-&gt;array));</div>
<div class="line"><span class="lineno">  672</span>            <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  673</span> </div>
<div class="line"><span class="lineno">  674</span>        }</div>
<div class="line"><span class="lineno">  675</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  676</span>        <a class="code hl_struct" href="structs__forest__node.html">forest_node</a>* scope = <a class="code hl_function" href="forest_8c.html#a619f25159598d0052096dd647035525c">forest_search_scope</a>(active, tmp3-&gt;value.vector-&gt;array);</div>
<div class="line"><span class="lineno">  677</span>        <a class="code hl_struct" href="structavl__tree.html">AVL_tree</a>* node = <a class="code hl_function" href="forest_8c.html#aaec9905b456776ed75cd0e0ba54ca1c0">forest_search_symbol</a>(active, tmp3-&gt;value.vector-&gt;array);</div>
<div class="line"><span class="lineno">  678</span>        <span class="keywordtype">char</span> *nickname = <a class="code hl_function" href="parser_8c.html#a015937b1d3bbcec4f14bf45d55b1f9c9">renamer</a>(node);</div>
<div class="line"><span class="lineno">  679</span>        <span class="keywordflow">if</span> (tmp3-&gt;exp_value == INT || tmp3-&gt;exp_value == DOUBLE || tmp3-&gt;exp_value == STRING){</div>
<div class="line"><span class="lineno">  680</span>            <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  681</span>            <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(PUSHS, scope-&gt;frame, nickname, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  682</span>            <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  683</span>        }</div>
<div class="line"><span class="lineno">  684</span>    }</div>
<div class="line"><span class="lineno">  685</span> </div>
<div class="line"><span class="lineno">  686</span>    <span class="keywordflow">if</span> (tmp1-&gt;exp_type == CONST){</div>
<div class="line"><span class="lineno">  687</span>        <span class="keywordflow">if</span> (tmp1-&gt;exp_value == INT){</div>
<div class="line"><span class="lineno">  688</span>            <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  689</span>            <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(PUSHS_INT_CONST, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, tmp1-&gt;value.integer, 0.0, NULL);</div>
<div class="line"><span class="lineno">  690</span>            <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  691</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp1-&gt;exp_value == DOUBLE){</div>
<div class="line"><span class="lineno">  692</span>            <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  693</span>            <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(PUSHS_FLOAT_CONST, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, tmp1-&gt;value.type_double, NULL);</div>
<div class="line"><span class="lineno">  694</span>            <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  695</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp1-&gt;exp_value == STRING){</div>
<div class="line"><span class="lineno">  696</span>            <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  697</span>            <span class="keywordtype">char</span> *<span class="keywordtype">string</span> = <a class="code hl_function" href="error_8c.html#a08672f1381d39b459aa779748bf40143">allocate_memory</a>(strlen(tmp1-&gt;value.vector-&gt;array)+1); <span class="comment">// new memory has to be allocated for string</span></div>
<div class="line"><span class="lineno">  698</span>            <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(PUSHS_STRING_CONST, <span class="charliteral">&#39;G&#39;</span>, NULL, 0, 0, 0.0, strcpy(<span class="keywordtype">string</span>, tmp1-&gt;value.vector-&gt;array));</div>
<div class="line"><span class="lineno">  699</span>            <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  700</span> </div>
<div class="line"><span class="lineno">  701</span>        }</div>
<div class="line"><span class="lineno">  702</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  703</span>        <a class="code hl_struct" href="structs__forest__node.html">forest_node</a>* scope = <a class="code hl_function" href="forest_8c.html#a619f25159598d0052096dd647035525c">forest_search_scope</a>(active, tmp1-&gt;value.vector-&gt;array);</div>
<div class="line"><span class="lineno">  704</span>        <a class="code hl_struct" href="structavl__tree.html">AVL_tree</a>* node = <a class="code hl_function" href="forest_8c.html#aaec9905b456776ed75cd0e0ba54ca1c0">forest_search_symbol</a>(active, tmp1-&gt;value.vector-&gt;array);</div>
<div class="line"><span class="lineno">  705</span>        <span class="keywordtype">char</span> *nickname = <a class="code hl_function" href="parser_8c.html#a015937b1d3bbcec4f14bf45d55b1f9c9">renamer</a>(node);</div>
<div class="line"><span class="lineno">  706</span>        <span class="keywordflow">if</span> (tmp1-&gt;exp_value == INT || tmp1-&gt;exp_value == DOUBLE || tmp1-&gt;exp_value == STRING){</div>
<div class="line"><span class="lineno">  707</span>            <span class="comment">// CODEGEN</span></div>
<div class="line"><span class="lineno">  708</span>            <a class="code hl_struct" href="structs__instruction.html">instruction</a> *inst = <a class="code hl_function" href="codegen_8c.html#aaaeaf377d6f12f6798cd02c6b1c50634">inst_init</a>(PUSHS, scope-&gt;frame, nickname, 0, 0, 0.0, NULL);</div>
<div class="line"><span class="lineno">  709</span>            <a class="code hl_function" href="codegen_8c.html#ac57fdf46ed4c2ba39ec0a6494b06c4eb">inst_list_insert_last</a>(inst_list, inst);</div>
<div class="line"><span class="lineno">  710</span>        }</div>
<div class="line"><span class="lineno">  711</span>    }</div>
<div class="line"><span class="lineno">  712</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4de2f719aeb5d3f8de400ec1eaa5a787" name="a4de2f719aeb5d3f8de400ec1eaa5a787"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4de2f719aeb5d3f8de400ec1eaa5a787">&#9670;&#160;</a></span>token_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="scanner_8h.html#afca089a78950c6e3e420d0e666899390">token_t</a> * token_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="scanner_8h.html#aef7a4af0d3dea9771fdd6eee9c5cabf2">token_type_t</a>&#160;</td>
          <td class="paramname"><em>token_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates new token. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">token_type</td><td>specifies type of token to be created </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>token_t* pointer to newly allocated token </dd></dl>

<p class="definition">Definition at line <a class="el" href="expression__parser_8c_source.html#l00131">131</a> of file <a class="el" href="expression__parser_8c_source.html">expression_parser.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  131</span>                                              {</div>
<div class="line"><span class="lineno">  132</span>    <a class="code hl_struct" href="structtoken.html">token_t</a>* <a class="code hl_struct" href="structtoken.html">token</a> = (<a class="code hl_struct" href="structtoken.html">token_t</a>*)<a class="code hl_function" href="error_8c.html#a08672f1381d39b459aa779748bf40143">allocate_memory</a>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtoken.html">token_t</a>));</div>
<div class="line"><span class="lineno">  133</span>    <a class="code hl_struct" href="structtoken.html">token</a>-&gt;value.vector = NULL;</div>
<div class="line"><span class="lineno">  134</span>    <a class="code hl_struct" href="structtoken.html">token</a>-&gt;value.integer = 0;</div>
<div class="line"><span class="lineno">  135</span>    <a class="code hl_struct" href="structtoken.html">token</a>-&gt;value.type_double = 0.0;</div>
<div class="line"><span class="lineno">  136</span>    <a class="code hl_struct" href="structtoken.html">token</a>-&gt;type = token_type;</div>
<div class="line"><span class="lineno">  137</span>    <span class="keywordflow">return</span> <a class="code hl_struct" href="structtoken.html">token</a>;</div>
<div class="line"><span class="lineno">  138</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="acc1c95d7f138e3e233baa89d6429aa84" name="acc1c95d7f138e3e233baa89d6429aa84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc1c95d7f138e3e233baa89d6429aa84">&#9670;&#160;</a></span>token_shift()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void token_shift </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtoken__stack.html">token_stack</a> *&#160;</td>
          <td class="paramname"><em>stack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Puts a shift symbol on stack. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stack</td><td>Pointer to the stack of tokens </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="expression__parser_8c_source.html#l00141">141</a> of file <a class="el" href="expression__parser_8c_source.html">expression_parser.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  141</span>                                    {</div>
<div class="line"><span class="lineno">  142</span>    <a class="code hl_struct" href="structtoken.html">token_t</a>* shift = <a class="code hl_function" href="expression__parser_8c.html#a4de2f719aeb5d3f8de400ec1eaa5a787">token_create</a>(TOKEN_SHIFT);</div>
<div class="line"><span class="lineno">  143</span>    <a class="code hl_struct" href="structtoken.html">token_t</a>* top = <a class="code hl_function" href="token__stack_8c.html#ace4d4e0ece15774f4df864b730b293a1">stack_top</a>(stack);</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>    <span class="comment">//expression is on top, shift is pushed before it</span></div>
<div class="line"><span class="lineno">  146</span>    <span class="keywordflow">if</span>(top-&gt;type == TOKEN_EXPRESSION){</div>
<div class="line"><span class="lineno">  147</span>        <a class="code hl_function" href="token__stack_8c.html#ab19e83ea17ecfb65941e2a82983cf0b4">stack_pop</a>(stack);</div>
<div class="line"><span class="lineno">  148</span>        <a class="code hl_function" href="token__stack_8c.html#a5832d040dcb260d4c578ecd714421db6">stack_push</a>(stack, shift);</div>
<div class="line"><span class="lineno">  149</span>        <a class="code hl_function" href="token__stack_8c.html#a5832d040dcb260d4c578ecd714421db6">stack_push</a>(stack, top);</div>
<div class="line"><span class="lineno">  150</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  151</span>        <a class="code hl_function" href="token__stack_8c.html#a5832d040dcb260d4c578ecd714421db6">stack_push</a>(stack, shift);</div>
<div class="line"><span class="lineno">  152</span>    }</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>    <a class="code hl_function" href="token__stack_8c.html#a5832d040dcb260d4c578ecd714421db6">stack_push</a>(stack, current_token);</div>
<div class="line"><span class="lineno">  155</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
